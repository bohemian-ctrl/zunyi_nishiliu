{"version":3,"file":"js/app.c89b1e35.js","mappings":"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","sources":["webpack://test2/./src/App.vue","webpack://test2/./src/App.vue?0e40","webpack://test2/./src/views/HomeView.vue","webpack://test2/./src/components/CesiumViewer.vue","webpack://test2/./src/utils/cesiumLoader.js","webpack://test2/./src/utils/cesiumMeasure.js","webpack://test2/./src/utils/riskDataLoader.js","webpack://test2/src/components/CesiumViewer.vue","webpack://test2/./src/components/CesiumViewer.vue?c7d6","webpack://test2/./src/components/CesiumViewer.vue?6eb1","webpack://test2/src/views/HomeView.vue","webpack://test2/./src/views/HomeView.vue?5167","webpack://test2/./src/views/HomeView.vue?aae2","webpack://test2/./src/router/index.js","webpack://test2/./src/store/index.js","webpack://test2/./src/main.js","webpack://test2/webpack/bootstrap","webpack://test2/webpack/runtime/chunk loaded","webpack://test2/webpack/runtime/compat get default export","webpack://test2/webpack/runtime/define property getters","webpack://test2/webpack/runtime/ensure chunk","webpack://test2/webpack/runtime/get javascript chunk filename","webpack://test2/webpack/runtime/get mini-css chunk filename","webpack://test2/webpack/runtime/global","webpack://test2/webpack/runtime/hasOwnProperty shorthand","webpack://test2/webpack/runtime/load script","webpack://test2/webpack/runtime/make namespace object","webpack://test2/webpack/runtime/publicPath","webpack://test2/webpack/runtime/jsonp chunk loading","webpack://test2/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4a5abda3\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4a5abda3&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_c('CesiumViewer')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cesium-container\"},[_c('div',{ref:\"cesiumContainer\",attrs:{\"id\":\"cesiumContainer\"}}),_c('div',{staticClass:\"control-panel left-panel\"},[_vm._m(0),_c('div',{staticClass:\"panel-section\"},[_c('h3',[_vm._v(\"预设视角\")]),_c('div',{staticClass:\"button-group\"},[_c('button',{staticClass:\"btn-primary\",on:{\"click\":function($event){return _vm.flyToView('overview')}}},[_vm._v(\"全市概览\")]),_c('button',{staticClass:\"btn-primary\",on:{\"click\":function($event){return _vm.flyToView('highRisk')}}},[_vm._v(\"高风险区聚焦\")])])]),_c('div',{staticClass:\"panel-section\"},[_c('h3',[_vm._v(\"图层控制\")]),_c('div',{staticClass:\"layer-control\"},[_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.terrain),expression:\"layers.terrain\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.layers.terrain)?_vm._i(_vm.layers.terrain,null)>-1:(_vm.layers.terrain)},on:{\"change\":[function($event){var $$a=_vm.layers.terrain,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"terrain\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"terrain\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"terrain\", $$c)}},function($event){return _vm.toggleLayer('terrain')}]}}),_c('span',[_vm._v(\"地形\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.satellite),expression:\"layers.satellite\"}],attrs:{\"type\":\"checkbox\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.layers.satellite)?_vm._i(_vm.layers.satellite,null)>-1:(_vm.layers.satellite)},on:{\"change\":[function($event){var $$a=_vm.layers.satellite,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"satellite\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"satellite\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"satellite\", $$c)}},function($event){return _vm.toggleLayer('satellite')}]}}),_c('span',[_vm._v(\"卫星底图\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.slope),expression:\"layers.slope\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.layers.slope)?_vm._i(_vm.layers.slope,null)>-1:(_vm.layers.slope)},on:{\"change\":[function($event){var $$a=_vm.layers.slope,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"slope\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"slope\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"slope\", $$c)}},function($event){return _vm.toggleLayer('slope')}]}}),_c('span',[_vm._v(\"坡度\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.ndvi),expression:\"layers.ndvi\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.layers.ndvi)?_vm._i(_vm.layers.ndvi,null)>-1:(_vm.layers.ndvi)},on:{\"change\":[function($event){var $$a=_vm.layers.ndvi,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"ndvi\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"ndvi\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"ndvi\", $$c)}},function($event){return _vm.toggleLayer('ndvi')}]}}),_c('span',[_vm._v(\"NDVI植被\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.precipitation),expression:\"layers.precipitation\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.layers.precipitation)?_vm._i(_vm.layers.precipitation,null)>-1:(_vm.layers.precipitation)},on:{\"change\":[function($event){var $$a=_vm.layers.precipitation,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"precipitation\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"precipitation\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"precipitation\", $$c)}},function($event){return _vm.toggleLayer('precipitation')}]}}),_c('span',[_vm._v(\"降水量\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.risk),expression:\"layers.risk\"}],attrs:{\"type\":\"checkbox\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.layers.risk)?_vm._i(_vm.layers.risk,null)>-1:(_vm.layers.risk)},on:{\"change\":[function($event){var $$a=_vm.layers.risk,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"risk\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"risk\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"risk\", $$c)}},function($event){return _vm.toggleLayer('risk')}]}}),_c('span',[_vm._v(\"风险区\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layers.buildings),expression:\"layers.buildings\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.layers.buildings)?_vm._i(_vm.layers.buildings,null)>-1:(_vm.layers.buildings)},on:{\"change\":[function($event){var $$a=_vm.layers.buildings,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.layers, \"buildings\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.layers, \"buildings\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.layers, \"buildings\", $$c)}},function($event){return _vm.toggleLayer('buildings')}]}}),_c('span',[_vm._v(\"建筑\")])])])]),(_vm.layers.risk)?_c('div',{staticClass:\"panel-section\"},[_c('h3',[_vm._v(\"风险区透明度\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.riskOpacity),expression:\"riskOpacity\",modifiers:{\"number\":true}}],staticClass:\"slider\",attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"1\",\"step\":\"0.1\"},domProps:{\"value\":(_vm.riskOpacity)},on:{\"input\":_vm.updateRiskOpacity,\"__r\":function($event){_vm.riskOpacity=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{staticClass:\"slider-value\"},[_vm._v(_vm._s((Number(_vm.riskOpacity) * 100).toFixed(0))+\"%\")])]):_vm._e(),(_vm.layers.risk)?_c('div',{staticClass:\"panel-section\"},[_c('h3',[_vm._v(\"风险等级\")]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.riskLevels.high),expression:\"riskLevels.high\"}],attrs:{\"type\":\"checkbox\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.riskLevels.high)?_vm._i(_vm.riskLevels.high,null)>-1:(_vm.riskLevels.high)},on:{\"change\":[function($event){var $$a=_vm.riskLevels.high,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.riskLevels, \"high\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.riskLevels, \"high\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.riskLevels, \"high\", $$c)}},_vm.updateRiskLevels]}}),_c('span',{staticClass:\"risk-high\"},[_vm._v(\"高风险\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.riskLevels.medium),expression:\"riskLevels.medium\"}],attrs:{\"type\":\"checkbox\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.riskLevels.medium)?_vm._i(_vm.riskLevels.medium,null)>-1:(_vm.riskLevels.medium)},on:{\"change\":[function($event){var $$a=_vm.riskLevels.medium,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.riskLevels, \"medium\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.riskLevels, \"medium\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.riskLevels, \"medium\", $$c)}},_vm.updateRiskLevels]}}),_c('span',{staticClass:\"risk-medium\"},[_vm._v(\"中风险\")])]),_c('label',{staticClass:\"checkbox-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.riskLevels.low),expression:\"riskLevels.low\"}],attrs:{\"type\":\"checkbox\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.riskLevels.low)?_vm._i(_vm.riskLevels.low,null)>-1:(_vm.riskLevels.low)},on:{\"change\":[function($event){var $$a=_vm.riskLevels.low,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.riskLevels, \"low\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.riskLevels, \"low\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.riskLevels, \"low\", $$c)}},_vm.updateRiskLevels]}}),_c('span',{staticClass:\"risk-low\"},[_vm._v(\"低风险\")])])]):_vm._e(),_c('div',{staticClass:\"panel-section\"},[_c('h3',[_vm._v(\"测量工具\")]),_c('div',{staticClass:\"button-group\"},[_c('button',{staticClass:\"btn-secondary\",class:{'btn-active': _vm.measureMode === 'distance'},on:{\"click\":function($event){return _vm.startMeasure('distance')}}},[_vm._v(\"测距\")]),_c('button',{staticClass:\"btn-secondary\",class:{'btn-active': _vm.measureMode === 'area'},on:{\"click\":function($event){return _vm.startMeasure('area')}}},[_vm._v(\"测面积\")]),_c('button',{staticClass:\"btn-secondary\",class:{'btn-active': _vm.measureMode === 'profile'},on:{\"click\":function($event){return _vm.startMeasure('profile')}}},[_vm._v(\"剖面分析\")]),_c('button',{staticClass:\"btn-secondary\",on:{\"click\":_vm.clearMeasure}},[_vm._v(\"清除\")])])]),(_vm.timeEnabled)?_c('div',{staticClass:\"panel-section\"},[_c('h3',[_vm._v(\"时间轴\")]),_c('div',{staticClass:\"time-control\"},[_c('button',{staticClass:\"btn-secondary\",on:{\"click\":_vm.togglePlay}},[_vm._v(_vm._s(_vm.isPlaying ? '暂停' : '播放'))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeValue),expression:\"timeValue\"}],staticClass:\"slider\",attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"100\"},domProps:{\"value\":(_vm.timeValue)},on:{\"input\":_vm.updateTime,\"__r\":function($event){_vm.timeValue=$event.target.value}}}),_c('span',{staticClass:\"time-display\"},[_vm._v(_vm._s(_vm.formatTime(_vm.timeValue)))])]),_c('div',{staticClass:\"speed-control\"},[_c('label',[_vm._v(\"播放速度：\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.playSpeed),expression:\"playSpeed\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.playSpeed=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.updatePlaySpeed]}},[_c('option',{attrs:{\"value\":\"0.5\"}},[_vm._v(\"0.5x\")]),_c('option',{attrs:{\"value\":\"1\",\"selected\":\"\"}},[_vm._v(\"1x\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"2x\")]),_c('option',{attrs:{\"value\":\"5\"}},[_vm._v(\"5x\")])])])]):_vm._e()]),(_vm.isLoading)?_c('div',{staticClass:\"loading-overlay\"},[_c('div',{staticClass:\"loading-content\"},[_c('div',{staticClass:\"loading-spinner\"}),_c('h3',[_vm._v(\"正在加载数据...\")]),_c('p',{staticClass:\"loading-message\"},[_vm._v(_vm._s(_vm.loadMessage))]),_c('div',{staticClass:\"progress-bar-container\"},[_c('div',{staticClass:\"progress-bar\",style:({ width: _vm.loadProgress + '%' })})]),_c('p',{staticClass:\"progress-text\"},[_vm._v(_vm._s(_vm.loadedEntities)+\" / \"+_vm._s(_vm.totalEntities)+\" 个区域已加载 (\"+_vm._s(Math.round(_vm.loadProgress))+\"%)\")])])]):_vm._e(),(_vm.isUpdatingOpacity)?_c('div',{staticClass:\"loading-overlay\"},[_c('div',{staticClass:\"loading-content\"},[_c('div',{staticClass:\"loading-spinner\"}),_c('h3',[_vm._v(\"正在更新透明度...\")]),_c('p',{staticClass:\"loading-message\"},[_vm._v(_vm._s(_vm.updateOpacityMessage))]),_c('div',{staticClass:\"progress-bar-container\"},[_c('div',{staticClass:\"progress-bar\",style:({ width: _vm.updateOpacityProgress + '%' })})]),_c('p',{staticClass:\"progress-text\"},[_vm._v(_vm._s(Math.round(_vm.updateOpacityProgress))+\"%\")])])]):_vm._e(),(_vm.selectedFeature)?_c('div',{staticClass:\"info-panel right-panel\"},[_c('div',{staticClass:\"panel-header\"},[_c('h3',[_vm._v(\"区域信息\")]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeInfoPanel}},[_vm._v(\"×\")])]),(_vm.selectedEntities.length > 1)?_c('div',{staticClass:\"selected-count\"},[_vm._v(\" 已选中 \"+_vm._s(_vm.selectedEntities.length)+\" 个区域 \")]):_vm._e(),_c('div',{staticClass:\"info-content\"},[_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"风险等级：\")]),_c('span',{class:_vm.getRiskClass(_vm.selectedFeature.properties.riskLevel)},[_vm._v(\" \"+_vm._s(_vm.getRiskText(_vm.selectedFeature.properties.riskLevel))+\" \"),(_vm.selectedFeature.properties.risk)?_c('span',{staticClass:\"risk-code\"},[_vm._v(\" (Risk: \"+_vm._s(_vm.selectedFeature.properties.risk)+\") \")]):_vm._e()])]),(_vm.selectedFeature.properties.count)?_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"区域数量：\")]),_c('span',[_vm._v(_vm._s(_vm.selectedFeature.properties.count))])]):_vm._e(),(_vm.selectedFeature.properties.slope)?_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"坡度：\")]),_c('span',[_vm._v(_vm._s(_vm.selectedFeature.properties.slope)+\"°\")])]):_vm._e(),(_vm.selectedFeature.properties.ndvi)?_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"NDVI：\")]),_c('span',[_vm._v(_vm._s(_vm.selectedFeature.properties.ndvi))])]):_vm._e(),(_vm.selectedFeature.properties.precipitation)?_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"年降水量：\")]),_c('span',[_vm._v(_vm._s(_vm.selectedFeature.properties.precipitation)+\"mm\")])]):_vm._e(),(_vm.selectedFeature.properties.township)?_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"所属乡镇：\")]),_c('span',[_vm._v(_vm._s(_vm.selectedFeature.properties.township))])]):_vm._e(),(_vm.selectedFeature.properties.area)?_c('div',{staticClass:\"info-item\"},[_c('label',[_vm._v(\"面积：\")]),_c('span',[_vm._v(_vm._s(_vm.selectedFeature.properties.area)+\" km²\")])]):_vm._e(),(_vm.selectedEntities.length > 0)?_c('div',{staticClass:\"info-actions\"},[_c('button',{staticClass:\"btn-export\",on:{\"click\":_vm.exportSelectedData}},[_vm._v(\"导出选中数据(CSV)\")])]):_vm._e()])]):_vm._e(),_vm._m(1),(_vm.measureResult)?_c('div',{staticClass:\"measure-result\"},[_c('div',{staticClass:\"result-content\"},[_c('h4',[_vm._v(\"测量结果\")]),(_vm.measureResult.type === 'distance')?_c('p',[_vm._v(\"距离：\"+_vm._s(_vm.measureResult.value)+\" km\")]):_vm._e(),(_vm.measureResult.type === 'area')?_c('p',[_vm._v(\"面积：\"+_vm._s(_vm.measureResult.value)+\" km²\")]):_vm._e(),_c('button',{staticClass:\"btn-small\",on:{\"click\":_vm.clearMeasure}},[_vm._v(\"关闭\")])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel-header\"},[_c('h2',[_vm._v(\"泥石流风险可视化\")]),_c('p',{staticClass:\"subtitle\"},[_vm._v(\"遵义市\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"legend\"},[_c('h4',[_vm._v(\"图例\")]),_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"legend-color risk-high\"}),_c('span',[_vm._v(\"高风险区\")])]),_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"legend-color risk-medium\"}),_c('span',[_vm._v(\"中风险区\")])]),_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"legend-color risk-low\"}),_c('span',[_vm._v(\"低风险区\")])]),_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"legend-color water\"}),_c('span',[_vm._v(\"水体\")])])])\n}]\n\nexport { render, staticRenderFns }","/**\r\n * Cesium 统一导入文件\r\n * 避免多个文件重复导入 Cesium，减少打包体积\r\n */\r\nimport * as Cesium from 'cesium'\r\n\r\n// 导出 Cesium 实例，供其他模块使用\r\nexport default Cesium\r\n\r\n// 也可以导出常用的类，方便使用\r\nexport const {\r\n  Viewer,\r\n  Cartesian3,\r\n  Color,\r\n  GeoJsonDataSource,\r\n  ScreenSpaceEventHandler,\r\n  ScreenSpaceEventType,\r\n  Math: CesiumMath,\r\n  HeadingPitchRange,\r\n  BoundingSphere,\r\n  EllipsoidTerrainProvider,\r\n  UrlTemplateImageryProvider,\r\n  createWorldTerrain,\r\n  createOsmBuildings\r\n} = Cesium\r\n\r\n","/**\r\n * Cesium测量工具类\r\n */\r\nimport Cesium from '@/utils/cesiumLoader'\r\n\r\nexport class CesiumMeasure {\r\n  constructor(viewer) {\r\n    this.viewer = viewer\r\n    this.activeEntity = null\r\n    this.measureEntities = []\r\n    this.handler = null\r\n    this.positions = []\r\n    this.type = null // 'distance', 'area', 'profile'\r\n  }\r\n\r\n  /**\r\n   * 开始距离测量\r\n   */\r\n  startDistanceMeasure() {\r\n    this.clear()\r\n    this.type = 'distance'\r\n    this.setupHandler()\r\n    \r\n    this.handler.setInputAction((click) => {\r\n      const position = this.viewer.camera.pickEllipsoid(click.position, this.viewer.scene.globe.ellipsoid)\r\n      if (position) {\r\n        this.positions.push(position)\r\n        this.updateDistanceMeasure()\r\n      }\r\n    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)\r\n\r\n    this.handler.setInputAction((movement) => {\r\n      if (this.positions.length > 0) {\r\n        const position = this.viewer.camera.pickEllipsoid(movement.endPosition, this.viewer.scene.globe.ellipsoid)\r\n        if (position) {\r\n          this.updateDistancePreview(position)\r\n        }\r\n      }\r\n    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)\r\n\r\n    this.handler.setInputAction(() => {\r\n      this.finishMeasure()\r\n    }, Cesium.ScreenSpaceEventType.RIGHT_CLICK)\r\n  }\r\n\r\n  /**\r\n   * 开始面积测量\r\n   */\r\n  startAreaMeasure() {\r\n    this.clear()\r\n    this.type = 'area'\r\n    this.setupHandler()\r\n    \r\n    this.handler.setInputAction((click) => {\r\n      const position = this.viewer.camera.pickEllipsoid(click.position, this.viewer.scene.globe.ellipsoid)\r\n      if (position) {\r\n        this.positions.push(position)\r\n        this.updateAreaMeasure()\r\n      }\r\n    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)\r\n\r\n    this.handler.setInputAction((movement) => {\r\n      if (this.positions.length > 0) {\r\n        const position = this.viewer.camera.pickEllipsoid(movement.endPosition, this.viewer.scene.globe.ellipsoid)\r\n        if (position) {\r\n          this.updateAreaPreview(position)\r\n        }\r\n      }\r\n    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)\r\n\r\n    this.handler.setInputAction(() => {\r\n      this.finishMeasure()\r\n    }, Cesium.ScreenSpaceEventType.RIGHT_CLICK)\r\n  }\r\n\r\n  /**\r\n   * 开始剖面分析\r\n   */\r\n  startProfileMeasure() {\r\n    this.clear()\r\n    this.type = 'profile'\r\n    this.setupHandler()\r\n    \r\n    this.handler.setInputAction((click) => {\r\n      const position = this.viewer.camera.pickEllipsoid(click.position, this.viewer.scene.globe.ellipsoid)\r\n      if (position) {\r\n        this.positions.push(position)\r\n        if (this.positions.length === 1) {\r\n          this.createProfileLine()\r\n        } else if (this.positions.length === 2) {\r\n          this.generateProfile()\r\n          this.finishMeasure()\r\n        }\r\n      }\r\n    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)\r\n  }\r\n\r\n  setupHandler() {\r\n    if (this.handler) {\r\n      this.handler.destroy()\r\n    }\r\n    this.handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas)\r\n  }\r\n\r\n  updateDistanceMeasure() {\r\n    if (this.positions.length < 2) return\r\n\r\n    // 移除旧的线\r\n    if (this.activeEntity) {\r\n      this.viewer.entities.remove(this.activeEntity)\r\n    }\r\n\r\n    // 创建新的线\r\n    this.activeEntity = this.viewer.entities.add({\r\n      polyline: {\r\n        positions: this.positions,\r\n        width: 3,\r\n        material: Cesium.Color.YELLOW,\r\n        clampToGround: true\r\n      }\r\n    })\r\n\r\n    // 计算距离\r\n    let totalDistance = 0\r\n    for (let i = 0; i < this.positions.length - 1; i++) {\r\n      const distance = Cesium.Cartesian3.distance(this.positions[i], this.positions[i + 1])\r\n      totalDistance += distance\r\n    }\r\n\r\n    // 添加标签显示距离\r\n    const lastPosition = this.positions[this.positions.length - 1]\r\n    const cartographic = Cesium.Cartographic.fromCartesian(lastPosition)\r\n    const label = this.viewer.entities.add({\r\n      position: lastPosition,\r\n      label: {\r\n        text: `${(totalDistance / 1000).toFixed(2)} km`,\r\n        font: '14px sans-serif',\r\n        fillColor: Cesium.Color.WHITE,\r\n        outlineColor: Cesium.Color.BLACK,\r\n        outlineWidth: 2,\r\n        style: Cesium.LabelStyle.FILL_AND_OUTLINE,\r\n        verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n        pixelOffset: new Cesium.Cartesian2(0, -20)\r\n      }\r\n    })\r\n    this.measureEntities.push(label)\r\n  }\r\n\r\n  updateDistancePreview(position) {\r\n    if (this.positions.length === 0) return\r\n\r\n    // 移除预览线\r\n    const previewEntity = this.viewer.entities.getById('measure-preview')\r\n    if (previewEntity) {\r\n      this.viewer.entities.remove(previewEntity)\r\n    }\r\n\r\n    // 创建预览线\r\n    this.viewer.entities.add({\r\n      id: 'measure-preview',\r\n      polyline: {\r\n        positions: [this.positions[this.positions.length - 1], position],\r\n        width: 2,\r\n        material: Cesium.Color.YELLOW.withAlpha(0.5),\r\n        clampToGround: true\r\n      }\r\n    })\r\n  }\r\n\r\n  updateAreaMeasure() {\r\n    if (this.positions.length < 3) return\r\n\r\n    // 移除旧的多边形\r\n    if (this.activeEntity) {\r\n      this.viewer.entities.remove(this.activeEntity)\r\n    }\r\n\r\n    // 闭合多边形\r\n    const closedPositions = [...this.positions, this.positions[0]]\r\n\r\n    // 创建多边形\r\n    this.activeEntity = this.viewer.entities.add({\r\n      polygon: {\r\n        hierarchy: closedPositions,\r\n        material: Cesium.Color.BLUE.withAlpha(0.3),\r\n        outline: true,\r\n        outlineColor: Cesium.Color.BLUE,\r\n        outlineWidth: 2\r\n      }\r\n    })\r\n\r\n    // 计算面积\r\n    const area = this.calculateArea(closedPositions)\r\n\r\n    // 添加标签显示面积\r\n    const center = this.calculateCenter(closedPositions)\r\n    const label = this.viewer.entities.getById('area-label')\r\n    if (label) {\r\n      this.viewer.entities.remove(label)\r\n    }\r\n    this.viewer.entities.add({\r\n      id: 'area-label',\r\n      position: center,\r\n      label: {\r\n        text: `${(area / 1000000).toFixed(2)} km²`,\r\n        font: '14px sans-serif',\r\n        fillColor: Cesium.Color.WHITE,\r\n        outlineColor: Cesium.Color.BLACK,\r\n        outlineWidth: 2,\r\n        style: Cesium.LabelStyle.FILL_AND_OUTLINE\r\n      }\r\n    })\r\n  }\r\n\r\n  updateAreaPreview(position) {\r\n    if (this.positions.length === 0) return\r\n\r\n    // 移除预览多边形\r\n    const previewEntity = this.viewer.entities.getById('area-preview')\r\n    if (previewEntity) {\r\n      this.viewer.entities.remove(previewEntity)\r\n    }\r\n\r\n    // 创建预览多边形\r\n    const previewPositions = [...this.positions, position, this.positions[0]]\r\n    this.viewer.entities.add({\r\n      id: 'area-preview',\r\n      polygon: {\r\n        hierarchy: previewPositions,\r\n        material: Cesium.Color.BLUE.withAlpha(0.2),\r\n        outline: true,\r\n        outlineColor: Cesium.Color.BLUE.withAlpha(0.5),\r\n        outlineWidth: 2\r\n      }\r\n    })\r\n  }\r\n\r\n  createProfileLine() {\r\n    if (this.positions.length === 0) return\r\n\r\n    this.activeEntity = this.viewer.entities.add({\r\n      polyline: {\r\n        positions: this.positions,\r\n        width: 3,\r\n        material: Cesium.Color.CYAN,\r\n        clampToGround: true\r\n      }\r\n    })\r\n  }\r\n\r\n  generateProfile() {\r\n    if (this.positions.length < 2) return\r\n\r\n    // 生成剖面数据\r\n    const start = this.positions[0]\r\n    const end = this.positions[1]\r\n    const samples = 100\r\n    const profileData = []\r\n\r\n    for (let i = 0; i <= samples; i++) {\r\n      const ratio = i / samples\r\n      const position = Cesium.Cartesian3.lerp(start, end, ratio, new Cesium.Cartesian3())\r\n      const cartographic = Cesium.Cartographic.fromCartesian(position)\r\n      \r\n      // 获取地形高度\r\n      const height = this.viewer.scene.globe.getHeight(cartographic) || 0\r\n      \r\n      profileData.push({\r\n        distance: ratio * Cesium.Cartesian3.distance(start, end),\r\n        height: height,\r\n        position: position\r\n      })\r\n    }\r\n\r\n    // 触发剖面数据事件\r\n    if (this.onProfileGenerated) {\r\n      this.onProfileGenerated(profileData)\r\n    }\r\n\r\n    return profileData\r\n  }\r\n\r\n  calculateArea(positions) {\r\n    if (positions.length < 3) return 0\r\n\r\n    let area = 0\r\n    for (let i = 0; i < positions.length - 1; i++) {\r\n      const p1 = Cesium.Cartographic.fromCartesian(positions[i])\r\n      const p2 = Cesium.Cartographic.fromCartesian(positions[i + 1])\r\n      \r\n      area += (p2.longitude - p1.longitude) * (p2.latitude + p1.latitude)\r\n    }\r\n\r\n    // 转换为平方米\r\n    const earthRadius = 6378137\r\n    area = Math.abs(area) * earthRadius * earthRadius / 2\r\n    return area\r\n  }\r\n\r\n  calculateCenter(positions) {\r\n    let sumX = 0, sumY = 0, sumZ = 0\r\n    \r\n    for (let i = 0; i < positions.length - 1; i++) {\r\n      sumX += positions[i].x\r\n      sumY += positions[i].y\r\n      sumZ += positions[i].z\r\n    }\r\n\r\n    const count = positions.length - 1\r\n    return new Cesium.Cartesian3(sumX / count, sumY / count, sumZ / count)\r\n  }\r\n\r\n  finishMeasure() {\r\n    if (this.handler) {\r\n      this.handler.destroy()\r\n      this.handler = null\r\n    }\r\n\r\n    // 移除预览实体\r\n    const previewEntity = this.viewer.entities.getById('measure-preview')\r\n    if (previewEntity) {\r\n      this.viewer.entities.remove(previewEntity)\r\n    }\r\n    const areaPreview = this.viewer.entities.getById('area-preview')\r\n    if (areaPreview) {\r\n      this.viewer.entities.remove(areaPreview)\r\n    }\r\n\r\n    // 返回测量结果\r\n    let result = null\r\n    if (this.type === 'distance' && this.positions.length >= 2) {\r\n      let totalDistance = 0\r\n      for (let i = 0; i < this.positions.length - 1; i++) {\r\n        totalDistance += Cesium.Cartesian3.distance(this.positions[i], this.positions[i + 1])\r\n      }\r\n      result = {\r\n        type: 'distance',\r\n        value: (totalDistance / 1000).toFixed(2),\r\n        unit: 'km'\r\n      }\r\n    } else if (this.type === 'area' && this.positions.length >= 3) {\r\n      const closedPositions = [...this.positions, this.positions[0]]\r\n      const area = this.calculateArea(closedPositions)\r\n      result = {\r\n        type: 'area',\r\n        value: (area / 1000000).toFixed(2),\r\n        unit: 'km²'\r\n      }\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  clear() {\r\n    if (this.handler) {\r\n      this.handler.destroy()\r\n      this.handler = null\r\n    }\r\n\r\n    // 移除所有测量实体\r\n    if (this.activeEntity) {\r\n      this.viewer.entities.remove(this.activeEntity)\r\n      this.activeEntity = null\r\n    }\r\n\r\n    this.measureEntities.forEach(entity => {\r\n      this.viewer.entities.remove(entity)\r\n    })\r\n    this.measureEntities = []\r\n\r\n    // 移除预览实体\r\n    const previewEntity = this.viewer.entities.getById('measure-preview')\r\n    if (previewEntity) {\r\n      this.viewer.entities.remove(previewEntity)\r\n    }\r\n    const areaPreview = this.viewer.entities.getById('area-preview')\r\n    if (areaPreview) {\r\n      this.viewer.entities.remove(areaPreview)\r\n    }\r\n    const areaLabel = this.viewer.entities.getById('area-label')\r\n    if (areaLabel) {\r\n      this.viewer.entities.remove(areaLabel)\r\n    }\r\n\r\n    this.positions = []\r\n    this.type = null\r\n  }\r\n}\r\n\r\n","/**\r\n * 风险数据加载工具\r\n */\r\nimport Cesium from '@/utils/cesiumLoader'\r\n\r\nexport class RiskDataLoader {\r\n  constructor(viewer) {\r\n    this.viewer = viewer\r\n    this.dataSource = null\r\n    this.entities = []\r\n  }\r\n\r\n  /**\r\n   * 从GeoJSON文件加载风险区数据\r\n   * @param {string|Object} geojson - GeoJSON数据或文件路径\r\n   * @param {Function} onLoad - 加载完成回调\r\n   * @param {Function} onProgress - 进度回调，参数为 { progress: 0-100, message: string, total: number, loaded: number }\r\n   */\r\n  async loadFromGeoJSON(geojson, onLoad, onProgress) {\r\n    try {\r\n      let data\r\n      \r\n      // 如果是字符串路径，则加载文件\r\n      if (typeof geojson === 'string') {\r\n        console.log('正在从文件加载:', geojson)\r\n        if (onProgress) {\r\n          onProgress({ progress: 10, message: '正在下载数据文件...', total: 0, loaded: 0 })\r\n        }\r\n        \r\n        const response = await fetch(geojson)\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`)\r\n        }\r\n        \r\n        if (onProgress) {\r\n          onProgress({ progress: 30, message: '正在解析数据...', total: 0, loaded: 0 })\r\n        }\r\n        \r\n        data = await response.json()\r\n        console.log('文件加载成功，特征数量:', data.features?.length || 0)\r\n      } else {\r\n        data = geojson\r\n      }\r\n\r\n      if (!data || !data.features || data.features.length === 0) {\r\n        throw new Error('GeoJSON数据为空或格式不正确')\r\n      }\r\n\r\n      // 创建数据源\r\n      this.dataSource = new Cesium.GeoJsonDataSource('riskZones')\r\n      \r\n      // 加载数据，设置贴地选项\r\n      if (onProgress) {\r\n        onProgress({ progress: 50, message: '正在加载到场景...', total: 0, loaded: 0 })\r\n      }\r\n      \r\n      await this.dataSource.load(data, {\r\n        clampToGround: true // 在加载时就设置贴地\r\n      })\r\n      this.viewer.dataSources.add(this.dataSource)\r\n      \r\n      console.log('数据源已添加到Viewer，实体数量:', this.dataSource.entities.values.length)\r\n\r\n      // 处理实体样式 - 分批处理以避免阻塞UI\r\n      const entities = this.dataSource.entities.values\r\n      this.entities = [] // 清空之前的实体\r\n      \r\n      // 如果数据量很大，分批处理\r\n      const batchSize = 50 // 减小批次大小，提高进度反馈频率\r\n      const progressUpdateInterval = 10 // 每处理10个实体更新一次进度\r\n      const totalEntities = entities.length\r\n      console.log('开始处理', totalEntities, '个实体，分批大小:', batchSize)\r\n      \r\n      if (onProgress) {\r\n        onProgress({ progress: 60, message: `正在处理 ${totalEntities} 个区域...`, total: totalEntities, loaded: 0 })\r\n      }\r\n      \r\n      // 临时禁用渲染以提高性能\r\n      const originalRequestRenderMode = this.viewer.scene.requestRenderMode\r\n      const originalMaximumRenderTimeChange = this.viewer.scene.maximumRenderTimeChange\r\n      this.viewer.scene.requestRenderMode = true\r\n      this.viewer.scene.maximumRenderTimeChange = Infinity\r\n      \r\n      // 大数据量分批处理\r\n      const processBatch = (startIndex) => {\r\n        // 检查数据源是否还存在（防止组件销毁后继续处理）\r\n        if (!this.dataSource || !this.viewer) {\r\n          console.warn('数据源已销毁，停止处理')\r\n          return\r\n        }\r\n        \r\n        const endIndex = Math.min(startIndex + batchSize, totalEntities)\r\n        let lastProgressUpdate = startIndex\r\n        \r\n        // 处理当前批次\r\n        for (let i = startIndex; i < endIndex; i++) {\r\n          const entity = entities[i]\r\n          if (entity && entity.polygon) {\r\n            this.styleRiskEntity(entity, data.features[i])\r\n            this.entities.push(entity)\r\n          }\r\n          \r\n          // 每处理一定数量的实体就更新一次进度，让用户看到实时进度\r\n          if (onProgress && (i - lastProgressUpdate >= progressUpdateInterval || i === endIndex - 1)) {\r\n            const progress = 60 + Math.floor((i + 1) / totalEntities * 35)\r\n            // 直接调用，不使用 requestAnimationFrame，确保进度及时更新\r\n            onProgress({ \r\n              progress: progress, \r\n              message: `正在处理区域 ${i + 1} / ${totalEntities}...`, \r\n              total: totalEntities, \r\n              loaded: i + 1 \r\n            })\r\n            lastProgressUpdate = i\r\n          }\r\n        }\r\n        \r\n        // 如果还有更多数据，继续处理下一批\r\n        if (endIndex < totalEntities) {\r\n          // 使用 setTimeout 给UI更多时间更新和渲染\r\n          // 使用很短的延迟，确保进度更新能被 Vue 响应式系统捕获\r\n          processBatch(endIndex)\r\n        } else {\r\n          // 处理完成，恢复渲染设置\r\n          this.viewer.scene.requestRenderMode = originalRequestRenderMode\r\n          this.viewer.scene.maximumRenderTimeChange = originalMaximumRenderTimeChange\r\n          \r\n          // 强制渲染一次\r\n          this.viewer.scene.requestRender()\r\n          \r\n          console.log('已样式化的实体数量:', this.entities.length, '处理完成')\r\n          if (onProgress) {\r\n            onProgress({ progress: 100, message: '处理完成！', total: totalEntities, loaded: totalEntities })\r\n          }\r\n          if (onLoad && this.dataSource) {\r\n            onLoad(this.entities)\r\n          }\r\n        }\r\n      }\r\n      \r\n      // 开始处理第一批\r\n      processBatch(0)\r\n\r\n      return this.entities\r\n    } catch (error) {\r\n      console.error('加载风险区数据失败:', error)\r\n      console.error('错误详情:', error.stack)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 样式化风险实体\r\n   */\r\n  styleRiskEntity(entity, feature) {\r\n    const props = feature.properties || {}\r\n    // 优先使用 Risk 字段（1=高风险, 2=中风险, 3=低风险）\r\n    // 如果没有 Risk 字段，则使用 riskLevel 或计算\r\n    let riskLevel = 'low'\r\n    \r\n    // 处理 Risk 字段，确保转换为数字进行比较\r\n    if (props.Risk !== undefined && props.Risk !== null) {\r\n      // 将 Risk 转换为数字（可能是字符串 \"1\", \"2\", \"3\"）\r\n      const riskValue = Number(props.Risk)\r\n      \r\n      // Risk: 1=高风险, 2=中风险, 3=低风险\r\n      if (riskValue === 1) {\r\n        riskLevel = 'high'\r\n      } else if (riskValue === 2) {\r\n        riskLevel = 'medium'\r\n      } else if (riskValue === 3) {\r\n        riskLevel = 'low'\r\n      } else {\r\n        // 如果 Risk 值不在预期范围内，使用默认值\r\n        console.warn('未知的 Risk 值:', props.Risk, '使用默认值 low')\r\n        riskLevel = 'low'\r\n      }\r\n    } else if (props.riskLevel) {\r\n      // 如果已经有 riskLevel 字段，直接使用\r\n      riskLevel = props.riskLevel.toLowerCase() // 确保小写\r\n    } else {\r\n      // 否则根据其他属性计算风险等级\r\n      riskLevel = this.calculateRiskLevel(props)\r\n    }\r\n    \r\n    // 调试日志：输出前几个实体的风险等级（避免日志过多）\r\n    if (this.entities.length < 5) {\r\n      console.log('实体风险等级判断:', {\r\n        Risk: props.Risk,\r\n        riskLevel: riskLevel,\r\n        props: props\r\n      })\r\n    }\r\n\r\n    // 设置多边形样式 - 确保实体可见并贴地\r\n    entity.polygon.material = this.getRiskColor(riskLevel, 0.6)\r\n    entity.polygon.height = 0\r\n    entity.polygon.extrudedHeight = undefined // 不设置高度，确保贴地\r\n    entity.polygon.outline = true\r\n    entity.polygon.outlineColor = Cesium.Color.WHITE.withAlpha(0.8)\r\n    entity.polygon.outlineWidth = 2\r\n    entity.polygon.clampToGround = true // 确保贴地显示\r\n    // 设置分类类型，确保多边形贴到地形上\r\n    entity.polygon.classificationType = Cesium.ClassificationType.TERRAIN\r\n    entity.show = true // 确保实体可见\r\n\r\n    // 保存属性 - 确保属性可以被正确访问\r\n    // Cesium 的 entity.properties 可能是 PropertyBag，我们需要确保属性可访问\r\n    if (!entity.properties) {\r\n      entity.properties = {}\r\n    }\r\n    \r\n    // 如果 properties 是 PropertyBag，使用 setValue\r\n    if (entity.properties.setValue && typeof entity.properties.setValue === 'function') {\r\n      const currentProps = entity.properties.getValue ? entity.properties.getValue() : {}\r\n      entity.properties.setValue({\r\n        ...currentProps,\r\n        riskLevel: riskLevel,\r\n        risk: props.Risk || 0,\r\n        slope: props.slope || 0,\r\n        ndvi: props.ndvi || 0,\r\n        precipitation: props.precipitation || 0,\r\n        township: props.township || props.乡镇 || '',\r\n        area: props.area || this.calculateArea(feature.geometry),\r\n        count: props.count || 0\r\n      })\r\n    } else {\r\n      // 普通对象，直接赋值\r\n      entity.properties = {\r\n        ...entity.properties,\r\n        riskLevel: riskLevel,\r\n        risk: props.Risk || 0, // 保存原始 Risk 值\r\n        slope: props.slope || 0,\r\n        ndvi: props.ndvi || 0,\r\n        precipitation: props.precipitation || 0,\r\n        township: props.township || props.乡镇 || '',\r\n        area: props.area || this.calculateArea(feature.geometry),\r\n        count: props.count || 0 // 保存 count 字段\r\n      }\r\n    }\r\n    \r\n    // 同时在实体上保存一个直接访问的属性（用于快速访问）\r\n    entity._riskLevel = riskLevel\r\n    entity._riskData = {\r\n      riskLevel: riskLevel,\r\n      risk: props.Risk || 0,\r\n      slope: props.slope || 0,\r\n      ndvi: props.ndvi || 0,\r\n      precipitation: props.precipitation || 0,\r\n      township: props.township || props.乡镇 || '',\r\n      area: props.area || this.calculateArea(feature.geometry),\r\n      count: props.count || 0\r\n    }\r\n\r\n    // 添加3D标注（高风险区）- 限制数量以避免性能问题\r\n    // 只对前50个高风险区添加标注，避免标注过多导致性能问题\r\n    // if (riskLevel === 'high' && this.entities.length < 50) {\r\n    //   this.addWarningLabel(entity, props)\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * 计算风险等级\r\n   */\r\n  calculateRiskLevel(props) {\r\n    const slope = props.slope || 0\r\n    const ndvi = props.ndvi || 0\r\n    const precipitation = props.precipitation || 0\r\n\r\n    // 高风险：坡度 > 30°、NDVI < 0.2、降水 > 800mm\r\n    if (slope > 30 && ndvi < 0.2 && precipitation > 800) {\r\n      return 'high'\r\n    }\r\n    // 中风险：坡度 > 20° 或 NDVI < 0.3 或 降水 > 600mm\r\n    else if (slope > 20 || ndvi < 0.3 || precipitation > 600) {\r\n      return 'medium'\r\n    }\r\n    // 低风险\r\n    else {\r\n      return 'low'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取风险颜色\r\n   */\r\n  getRiskColor(riskLevel, opacity = 0.6) {\r\n    // 确保 opacity 是数字类型\r\n    const numOpacity = typeof opacity === 'string' ? parseFloat(opacity) : Number(opacity)\r\n    \r\n    // 验证并限制范围\r\n    if (isNaN(numOpacity)) {\r\n      console.warn('无效的透明度值:', opacity, '使用默认值 0.6')\r\n      return this.getRiskColor(riskLevel, 0.6)\r\n    }\r\n    \r\n    const clampedOpacity = Math.max(0, Math.min(1, numOpacity))\r\n    \r\n    // 确保 riskLevel 是小写字符串，统一处理\r\n    const normalizedLevel = String(riskLevel).toLowerCase().trim()\r\n    \r\n    const colors = {\r\n      high: Cesium.Color.RED.withAlpha(clampedOpacity),\r\n      medium: Cesium.Color.ORANGE.withAlpha(clampedOpacity),\r\n      low: Cesium.Color.YELLOW.withAlpha(clampedOpacity)\r\n    }\r\n    \r\n    // 检查颜色是否存在\r\n    const color = colors[normalizedLevel]\r\n    if (!color) {\r\n      console.warn('未知的风险等级:', riskLevel, '原始值:', riskLevel, '标准化后:', normalizedLevel, '使用默认颜色 (low/yellow)')\r\n      return colors.low\r\n    }\r\n    \r\n    return color\r\n  }\r\n\r\n  /**\r\n   * 添加预警标注\r\n   */\r\n  addWarningLabel(entity, props) {\r\n    const position = this.getEntityCenter(entity)\r\n    if (!position) return\r\n\r\n    const label = this.viewer.entities.add({\r\n      position: position,\r\n      billboard: {\r\n        image: this.createWarningIcon('high'),\r\n        scale: 1.0,\r\n        verticalOrigin: Cesium.VerticalOrigin.BOTTOM\r\n      },\r\n      label: {\r\n        text: '高风险区',\r\n        font: '12px sans-serif',\r\n        fillColor: Cesium.Color.RED,\r\n        outlineColor: Cesium.Color.WHITE,\r\n        outlineWidth: 2,\r\n        style: Cesium.LabelStyle.FILL_AND_OUTLINE,\r\n        verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n        pixelOffset: new Cesium.Cartesian2(0, -30)\r\n      }\r\n    })\r\n\r\n    entity.warningLabel = label\r\n  }\r\n\r\n  /**\r\n   * 创建预警图标（使用Canvas）\r\n   */\r\n  createWarningIcon(level) {\r\n    const canvas = document.createElement('canvas')\r\n    canvas.width = 32\r\n    canvas.height = 32\r\n    const ctx = canvas.getContext('2d')\r\n\r\n    const colors = {\r\n      high: '#e74c3c',\r\n      medium: '#f39c12',\r\n      low: '#f1c40f'\r\n    }\r\n\r\n    // 绘制圆形\r\n    ctx.fillStyle = colors[level] || colors.high\r\n    ctx.beginPath()\r\n    ctx.arc(16, 16, 14, 0, Math.PI * 2)\r\n    ctx.fill()\r\n\r\n    // 绘制感叹号\r\n    ctx.fillStyle = 'white'\r\n    ctx.font = 'bold 20px Arial'\r\n    ctx.textAlign = 'center'\r\n    ctx.textBaseline = 'middle'\r\n    ctx.fillText('!', 16, 16)\r\n\r\n    return canvas.toDataURL()\r\n  }\r\n\r\n  /**\r\n   * 获取实体中心点\r\n   */\r\n  getEntityCenter(entity) {\r\n    if (entity.polygon && entity.polygon.hierarchy) {\r\n      const hierarchy = entity.polygon.hierarchy.getValue()\r\n      if (hierarchy.positions && hierarchy.positions.length > 0) {\r\n        const positions = hierarchy.positions\r\n        let sumX = 0, sumY = 0, sumZ = 0\r\n        positions.forEach(pos => {\r\n          sumX += pos.x\r\n          sumY += pos.y\r\n          sumZ += pos.z\r\n        })\r\n        return new Cesium.Cartesian3(\r\n          sumX / positions.length,\r\n          sumY / positions.length,\r\n          sumZ / positions.length\r\n        )\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * 计算面积（简化版）\r\n   */\r\n  calculateArea(geometry) {\r\n    // 这里应该使用更精确的面积计算方法\r\n    // 简化处理，返回0\r\n    return 0\r\n  }\r\n\r\n  /**\r\n   * 更新透明度\r\n   * @param {number} opacity - 透明度值 (0-1)\r\n   * @param {Function} onProgress - 进度回调，参数为 { progress: 0-100, message: string }\r\n   */\r\n  updateOpacity(opacity, onProgress) {\r\n    // 确保 opacity 是数字类型\r\n    const numOpacity = typeof opacity === 'string' ? parseFloat(opacity) : Number(opacity)\r\n    \r\n    // 验证值是否有效\r\n    if (isNaN(numOpacity) || numOpacity < 0 || numOpacity > 1) {\r\n      console.warn('无效的透明度值:', opacity)\r\n      return\r\n    }\r\n    \r\n    // 确保值在 0-1 范围内\r\n    const clampedOpacity = Math.max(0, Math.min(1, numOpacity))\r\n    \r\n    console.log('更新透明度:', clampedOpacity, '类型:', typeof clampedOpacity, '实体数量:', this.entities.length)\r\n    \r\n    const totalEntities = this.entities.length\r\n    const updateInterval = Math.max(1, Math.floor(totalEntities / 100)) // 每1%更新一次进度\r\n    \r\n    this.entities.forEach((entity, index) => {\r\n      if (!entity || !entity.polygon) {\r\n        return\r\n      }\r\n      \r\n      // 优先使用快速访问属性获取风险等级\r\n      let riskLevel = entity._riskLevel\r\n      \r\n      // 如果没有，尝试从 _riskData 获取\r\n      if (!riskLevel && entity._riskData) {\r\n        riskLevel = entity._riskData.riskLevel\r\n      }\r\n      \r\n      // 如果还没有，尝试从 properties 获取\r\n      if (!riskLevel && entity.properties) {\r\n        if (entity.properties.getValue && typeof entity.properties.getValue === 'function') {\r\n          try {\r\n            const props = entity.properties.getValue()\r\n            riskLevel = props?.riskLevel\r\n            if (!riskLevel && props?.Risk !== undefined) {\r\n              riskLevel = props.Risk === 1 ? 'high' : (props.Risk === 2 ? 'medium' : 'low')\r\n            }\r\n          } catch (e) {\r\n            // 忽略错误\r\n          }\r\n        } else {\r\n          riskLevel = entity.properties.riskLevel\r\n          if (!riskLevel && entity.properties.Risk !== undefined) {\r\n            riskLevel = entity.properties.Risk === 1 ? 'high' : (entity.properties.Risk === 2 ? 'medium' : 'low')\r\n          }\r\n        }\r\n      }\r\n      \r\n      // 默认值\r\n      if (!riskLevel) {\r\n        riskLevel = 'low'\r\n      }\r\n      \r\n      // 更新材质\r\n      try {\r\n        const newColor = this.getRiskColor(riskLevel, clampedOpacity)\r\n        entity.polygon.material = newColor\r\n      } catch (e) {\r\n        console.warn(`更新实体 ${index} 透明度失败:`, e)\r\n      }\r\n      \r\n      // 更新进度（每处理一定数量的实体更新一次）\r\n      if (onProgress && (index % updateInterval === 0 || index === totalEntities - 1)) {\r\n        const progress = Math.floor((index + 1) / totalEntities * 100)\r\n        onProgress({\r\n          progress: progress,\r\n          message: `正在更新 ${index + 1} / ${totalEntities} 个区域...`\r\n        })\r\n      }\r\n    })\r\n    \r\n    // 批量更新完成后，统一触发一次渲染（避免每个实体都触发渲染）\r\n    if (this.viewer && this.viewer.scene) {\r\n      this.viewer.scene.requestRender()\r\n    }\r\n    \r\n    // 通知完成\r\n    if (onProgress) {\r\n      onProgress({\r\n        progress: 100,\r\n        message: '更新完成！'\r\n      })\r\n    }\r\n    \r\n    console.log('透明度更新完成')\r\n  }\r\n\r\n  /**\r\n   * 更新风险等级显示\r\n   */\r\n  updateRiskLevels(levels) {\r\n    this.entities.forEach(entity => {\r\n      if (!entity) {\r\n        return\r\n      }\r\n      \r\n      // 优先使用快速访问属性获取风险等级（最可靠）\r\n      let riskLevel = entity._riskLevel\r\n      \r\n      // 如果没有，尝试从 _riskData 获取\r\n      if (!riskLevel && entity._riskData) {\r\n        riskLevel = entity._riskData.riskLevel\r\n      }\r\n      \r\n      // 如果还没有，尝试从 properties 获取（处理 PropertyBag）\r\n      if (!riskLevel && entity.properties) {\r\n        if (entity.properties.getValue && typeof entity.properties.getValue === 'function') {\r\n          // 如果是 PropertyBag，使用 getValue\r\n          try {\r\n            const props = entity.properties.getValue()\r\n            riskLevel = props?.riskLevel\r\n            // 如果没有 riskLevel，尝试从 Risk 计算\r\n            if (!riskLevel && props?.Risk !== undefined) {\r\n              const riskValue = Number(props.Risk)\r\n              riskLevel = riskValue === 1 ? 'high' : (riskValue === 2 ? 'medium' : 'low')\r\n            }\r\n          } catch (e) {\r\n            console.warn('获取实体属性失败:', e)\r\n          }\r\n        } else {\r\n          // 普通对象，直接访问\r\n          riskLevel = entity.properties.riskLevel\r\n          if (!riskLevel && entity.properties.Risk !== undefined) {\r\n            const riskValue = Number(entity.properties.Risk)\r\n            riskLevel = riskValue === 1 ? 'high' : (riskValue === 2 ? 'medium' : 'low')\r\n          }\r\n        }\r\n      }\r\n      \r\n      // 默认值\r\n      if (!riskLevel) {\r\n        riskLevel = 'low'\r\n      }\r\n      \r\n      const shouldShow = \r\n        (riskLevel === 'high' && levels.high) ||\r\n        (riskLevel === 'medium' && levels.medium) ||\r\n        (riskLevel === 'low' && levels.low)\r\n      \r\n      // 只有在数据源显示时才控制单个实体\r\n      if (this.dataSource && this.dataSource.show !== false) {\r\n        entity.show = shouldShow\r\n        if (entity.warningLabel) {\r\n          entity.warningLabel.show = shouldShow && riskLevel === 'high'\r\n        }\r\n      }\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * 设置数据源显示/隐藏\r\n   */\r\n  setVisible(visible) {\r\n    if (this.dataSource) {\r\n      this.dataSource.show = visible\r\n    }\r\n    this.entities.forEach(entity => {\r\n      if (!entity) {\r\n        return\r\n      }\r\n      \r\n      entity.show = visible\r\n      if (entity.warningLabel) {\r\n        // 获取风险等级\r\n        const riskLevel = entity._riskLevel || (entity._riskData && entity._riskData.riskLevel) || 'low'\r\n        entity.warningLabel.show = visible && riskLevel === 'high'\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 导出选中区域属性\r\n   */\r\n  exportToCSV(entities) {\r\n    if (!entities || entities.length === 0) {\r\n      return null\r\n    }\r\n\r\n    const headers = ['风险等级', '坡度(°)', 'NDVI', '年降水量(mm)', '所属乡镇', '面积(km²)']\r\n    const rows = entities.map(entity => {\r\n      // 优先使用快速访问属性\r\n      let riskLevel = entity._riskLevel\r\n      let slope = 0\r\n      let ndvi = 0\r\n      let precipitation = 0\r\n      let township = ''\r\n      let area = 0\r\n      \r\n      if (entity._riskData) {\r\n        riskLevel = riskLevel || entity._riskData.riskLevel\r\n        slope = entity._riskData.slope || 0\r\n        ndvi = entity._riskData.ndvi || 0\r\n        precipitation = entity._riskData.precipitation || 0\r\n        township = entity._riskData.township || ''\r\n        area = entity._riskData.area || 0\r\n      }\r\n      \r\n      // 如果还没有，尝试从 properties 获取\r\n      if (!riskLevel && entity.properties) {\r\n        let props = {}\r\n        if (entity.properties.getValue && typeof entity.properties.getValue === 'function') {\r\n          try {\r\n            props = entity.properties.getValue() || {}\r\n          } catch (e) {\r\n            // 忽略错误\r\n          }\r\n        } else {\r\n          props = entity.properties || {}\r\n        }\r\n        \r\n        riskLevel = riskLevel || props.riskLevel\r\n        if (!riskLevel && props.Risk !== undefined) {\r\n          const riskValue = Number(props.Risk)\r\n          riskLevel = riskValue === 1 ? 'high' : (riskValue === 2 ? 'medium' : 'low')\r\n        }\r\n        slope = slope || props.slope || 0\r\n        ndvi = ndvi || props.ndvi || 0\r\n        precipitation = precipitation || props.precipitation || 0\r\n        township = township || props.township || ''\r\n        area = area || props.area || 0\r\n      }\r\n      \r\n      return [\r\n        riskLevel || 'low',\r\n        slope,\r\n        ndvi,\r\n        precipitation,\r\n        township,\r\n        area\r\n      ]\r\n    })\r\n\r\n    const csvContent = [\r\n      headers.join(','),\r\n      ...rows.map(row => row.join(','))\r\n    ].join('\\n')\r\n\r\n    // 创建下载链接\r\n    const blob = new Blob(['\\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' })\r\n    const url = URL.createObjectURL(blob)\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    link.download = `风险区数据_${new Date().getTime()}.csv`\r\n    link.click()\r\n    URL.revokeObjectURL(url)\r\n\r\n    return csvContent\r\n  }\r\n\r\n  /**\r\n   * 清除所有数据\r\n   */\r\n  clear() {\r\n    // 清理标注\r\n    this.entities.forEach(entity => {\r\n      if (entity.warningLabel) {\r\n        try {\r\n          this.viewer.entities.remove(entity.warningLabel)\r\n        } catch (e) {\r\n          console.warn('清理标注失败:', e)\r\n        }\r\n        entity.warningLabel = null\r\n      }\r\n    })\r\n    \r\n    // 清理数据源\r\n    if (this.dataSource) {\r\n      try {\r\n        this.viewer.dataSources.remove(this.dataSource)\r\n      } catch (e) {\r\n        console.warn('清理数据源失败:', e)\r\n      }\r\n      this.dataSource = null\r\n    }\r\n    \r\n    // 清空实体数组\r\n    this.entities = []\r\n  }\r\n}\r\n\r\n","<template>\r\n  <div class=\"cesium-container\">\r\n    <!-- Cesium Viewer -->\r\n    <div id=\"cesiumContainer\" ref=\"cesiumContainer\"></div>\r\n    \r\n    <!-- 左侧控制面板 -->\r\n    <div class=\"control-panel left-panel\">\r\n      <div class=\"panel-header\">\r\n        <h2>泥石流风险可视化</h2>\r\n        <p class=\"subtitle\">遵义市</p>\r\n      </div>\r\n\r\n      <!-- 预设视角 -->\r\n      <div class=\"panel-section\">\r\n        <h3>预设视角</h3>\r\n        <div class=\"button-group\">\r\n          <button @click=\"flyToView('overview')\" class=\"btn-primary\">全市概览</button>\r\n          <button @click=\"flyToView('highRisk')\" class=\"btn-primary\">高风险区聚焦</button>\r\n          <!-- <button @click=\"flyToView('typical')\" class=\"btn-primary\">典型沟谷</button> -->\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 图层控制 -->\r\n      <div class=\"panel-section\">\r\n        <h3>图层控制</h3>\r\n        <div class=\"layer-control\">\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.terrain\" @change=\"toggleLayer('terrain')\">\r\n            <span>地形</span>\r\n          </label>\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.satellite\" @change=\"toggleLayer('satellite')\" checked>\r\n            <span>卫星底图</span>\r\n          </label>\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.slope\" @change=\"toggleLayer('slope')\">\r\n            <span>坡度</span>\r\n          </label>\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.ndvi\" @change=\"toggleLayer('ndvi')\">\r\n            <span>NDVI植被</span>\r\n          </label>\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.precipitation\" @change=\"toggleLayer('precipitation')\">\r\n            <span>降水量</span>\r\n          </label>\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.risk\" @change=\"toggleLayer('risk')\" checked>\r\n            <span>风险区</span>\r\n          </label>\r\n          <label class=\"checkbox-label\">\r\n            <input type=\"checkbox\" v-model=\"layers.buildings\" @change=\"toggleLayer('buildings')\">\r\n            <span>建筑</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 风险区透明度 -->\r\n      <div class=\"panel-section\" v-if=\"layers.risk\">\r\n        <h3>风险区透明度</h3>\r\n        <input type=\"range\" v-model.number=\"riskOpacity\" min=\"0\" max=\"1\" step=\"0.1\" @input=\"updateRiskOpacity\" class=\"slider\">\r\n        <span class=\"slider-value\">{{ (Number(riskOpacity) * 100).toFixed(0) }}%</span>\r\n      </div>\r\n\r\n      <!-- 风险区分级显示 -->\r\n      <div class=\"panel-section\" v-if=\"layers.risk\">\r\n        <h3>风险等级</h3>\r\n        <label class=\"checkbox-label\">\r\n          <input type=\"checkbox\" v-model=\"riskLevels.high\" @change=\"updateRiskLevels\" checked>\r\n          <span class=\"risk-high\">高风险</span>\r\n        </label>\r\n        <label class=\"checkbox-label\">\r\n          <input type=\"checkbox\" v-model=\"riskLevels.medium\" @change=\"updateRiskLevels\" checked>\r\n          <span class=\"risk-medium\">中风险</span>\r\n        </label>\r\n        <label class=\"checkbox-label\">\r\n          <input type=\"checkbox\" v-model=\"riskLevels.low\" @change=\"updateRiskLevels\" checked>\r\n          <span class=\"risk-low\">低风险</span>\r\n        </label>\r\n      </div>\r\n\r\n      <!-- 测量工具 -->\r\n      <div class=\"panel-section\">\r\n        <h3>测量工具</h3>\r\n        <div class=\"button-group\">\r\n          <button @click=\"startMeasure('distance')\" :class=\"{'btn-active': measureMode === 'distance'}\" class=\"btn-secondary\">测距</button>\r\n          <button @click=\"startMeasure('area')\" :class=\"{'btn-active': measureMode === 'area'}\" class=\"btn-secondary\">测面积</button>\r\n          <button @click=\"startMeasure('profile')\" :class=\"{'btn-active': measureMode === 'profile'}\" class=\"btn-secondary\">剖面分析</button>\r\n          <button @click=\"clearMeasure\" class=\"btn-secondary\">清除</button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 时间轴控制（扩展功能） -->\r\n      <div class=\"panel-section\" v-if=\"timeEnabled\">\r\n        <h3>时间轴</h3>\r\n        <div class=\"time-control\">\r\n          <button @click=\"togglePlay\" class=\"btn-secondary\">{{ isPlaying ? '暂停' : '播放' }}</button>\r\n          <input type=\"range\" v-model=\"timeValue\" min=\"0\" max=\"100\" @input=\"updateTime\" class=\"slider\">\r\n          <span class=\"time-display\">{{ formatTime(timeValue) }}</span>\r\n        </div>\r\n        <div class=\"speed-control\">\r\n          <label>播放速度：</label>\r\n          <select v-model=\"playSpeed\" @change=\"updatePlaySpeed\">\r\n            <option value=\"0.5\">0.5x</option>\r\n            <option value=\"1\" selected>1x</option>\r\n            <option value=\"2\">2x</option>\r\n            <option value=\"5\">5x</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 数据加载提示 -->\r\n    <div class=\"loading-overlay\" v-if=\"isLoading\">\r\n      <div class=\"loading-content\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <h3>正在加载数据...</h3>\r\n        <p class=\"loading-message\">{{ loadMessage }}</p>\r\n        <div class=\"progress-bar-container\">\r\n          <div class=\"progress-bar\" :style=\"{ width: loadProgress + '%' }\"></div>\r\n        </div>\r\n        <p class=\"progress-text\">{{ loadedEntities }} / {{ totalEntities }} 个区域已加载 ({{ Math.round(loadProgress) }}%)</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 透明度更新提示 -->\r\n    <div class=\"loading-overlay\" v-if=\"isUpdatingOpacity\">\r\n      <div class=\"loading-content\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <h3>正在更新透明度...</h3>\r\n        <p class=\"loading-message\">{{ updateOpacityMessage }}</p>\r\n        <div class=\"progress-bar-container\">\r\n          <div class=\"progress-bar\" :style=\"{ width: updateOpacityProgress + '%' }\"></div>\r\n        </div>\r\n        <p class=\"progress-text\">{{ Math.round(updateOpacityProgress) }}%</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 右侧信息面板 -->\r\n    <div class=\"info-panel right-panel\" v-if=\"selectedFeature\">\r\n      <div class=\"panel-header\">\r\n        <h3>区域信息</h3>\r\n        <button @click=\"closeInfoPanel\" class=\"close-btn\">×</button>\r\n      </div>\r\n      <div class=\"selected-count\" v-if=\"selectedEntities.length > 1\">\r\n        已选中 {{ selectedEntities.length }} 个区域\r\n      </div>\r\n      <div class=\"info-content\">\r\n        <div class=\"info-item\">\r\n          <label>风险等级：</label>\r\n          <span :class=\"getRiskClass(selectedFeature.properties.riskLevel)\">\r\n            {{ getRiskText(selectedFeature.properties.riskLevel) }}\r\n            <span v-if=\"selectedFeature.properties.risk\" class=\"risk-code\">\r\n              (Risk: {{ selectedFeature.properties.risk }})\r\n            </span>\r\n          </span>\r\n        </div>\r\n        <div class=\"info-item\" v-if=\"selectedFeature.properties.count\">\r\n          <label>区域数量：</label>\r\n          <span>{{ selectedFeature.properties.count }}</span>\r\n        </div>\r\n        <div class=\"info-item\" v-if=\"selectedFeature.properties.slope\">\r\n          <label>坡度：</label>\r\n          <span>{{ selectedFeature.properties.slope }}°</span>\r\n        </div>\r\n        <div class=\"info-item\" v-if=\"selectedFeature.properties.ndvi\">\r\n          <label>NDVI：</label>\r\n          <span>{{ selectedFeature.properties.ndvi }}</span>\r\n        </div>\r\n        <div class=\"info-item\" v-if=\"selectedFeature.properties.precipitation\">\r\n          <label>年降水量：</label>\r\n          <span>{{ selectedFeature.properties.precipitation }}mm</span>\r\n        </div>\r\n        <div class=\"info-item\" v-if=\"selectedFeature.properties.township\">\r\n          <label>所属乡镇：</label>\r\n          <span>{{ selectedFeature.properties.township }}</span>\r\n        </div>\r\n        <div class=\"info-item\" v-if=\"selectedFeature.properties.area\">\r\n          <label>面积：</label>\r\n          <span>{{ selectedFeature.properties.area }} km²</span>\r\n        </div>\r\n        <div class=\"info-actions\" v-if=\"selectedEntities.length > 0\">\r\n          <button @click=\"exportSelectedData\" class=\"btn-export\">导出选中数据(CSV)</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 图例 -->\r\n    <div class=\"legend\">\r\n      <h4>图例</h4>\r\n      <div class=\"legend-item\">\r\n        <span class=\"legend-color risk-high\"></span>\r\n        <span>高风险区</span>\r\n      </div>\r\n      <div class=\"legend-item\">\r\n        <span class=\"legend-color risk-medium\"></span>\r\n        <span>中风险区</span>\r\n      </div>\r\n      <div class=\"legend-item\">\r\n        <span class=\"legend-color risk-low\"></span>\r\n        <span>低风险区</span>\r\n      </div>\r\n      <div class=\"legend-item\">\r\n        <span class=\"legend-color water\"></span>\r\n        <span>水体</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 测量结果显示 -->\r\n    <div class=\"measure-result\" v-if=\"measureResult\">\r\n      <div class=\"result-content\">\r\n        <h4>测量结果</h4>\r\n        <p v-if=\"measureResult.type === 'distance'\">距离：{{ measureResult.value }} km</p>\r\n        <p v-if=\"measureResult.type === 'area'\">面积：{{ measureResult.value }} km²</p>\r\n        <button @click=\"clearMeasure\" class=\"btn-small\">关闭</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cesium from '@/utils/cesiumLoader'\r\nimport { CesiumMeasure } from '@/utils/cesiumMeasure'\r\nimport { RiskDataLoader } from '@/utils/riskDataLoader'\r\nconst ZUNYI_DEM_ASSET_ID = 4343955;\r\n\r\nexport default {\r\n  name: 'CesiumViewer',\r\n  data() {\r\n    return {\r\n      viewer: null,\r\n      measureTool: null,\r\n      riskDataLoader: null,\r\n      layers: {\r\n        terrain: true,\r\n        satellite: true,\r\n        slope: false,\r\n        ndvi: false,\r\n        precipitation: false,\r\n        risk: true,\r\n        buildings: false\r\n      },\r\n      riskOpacity: 0.6,\r\n      riskLevels: {\r\n        high: true,\r\n        medium: true,\r\n        low: true\r\n      },\r\n      measureMode: null,\r\n      measureResult: null,\r\n      selectedFeature: null,\r\n      slopeLayer: null,\r\n      ndviLayer: null,\r\n      precipitationLayer: null,\r\n      buildingsLayer: null,\r\n      timeEnabled: false,\r\n      isPlaying: false,\r\n      timeValue: 0,\r\n      playSpeed: 1,\r\n      selectedEntities: [],\r\n      clickHandler: null, // 保存事件处理器引用\r\n      zoomTimeout: null, // 保存定时器引用gg\r\n      // 数据加载状态\r\n      isLoading: false,\r\n      loadProgress: 0,\r\n      loadMessage: '',\r\n      totalEntities: 0,\r\n      loadedEntities: 0,\r\n      // 透明度更新状态\r\n      isUpdatingOpacity: false,\r\n      updateOpacityProgress: 0,\r\n      updateOpacityMessage: '',\r\n      // 遵义市坐标范围\r\n      zunyiBounds: {\r\n        center: [106.9375, 27.7250], // 经度, 纬度\r\n        zoom: 9\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initCesium()\r\n  },\r\n  beforeDestroy() {\r\n    // 清理所有资源\r\n    this.cleanup()\r\n  },\r\n  methods: {\r\n    cleanup() {\r\n      // 清理定时器\r\n      if (this.zoomTimeout) {\r\n        clearTimeout(this.zoomTimeout)\r\n        this.zoomTimeout = null\r\n      }\r\n      \r\n      // 清理事件处理器\r\n      if (this.clickHandler) {\r\n        this.clickHandler.destroy()\r\n        this.clickHandler = null\r\n      }\r\n      \r\n      // 清理测量工具\r\n      if (this.measureTool) {\r\n        this.measureTool.clear()\r\n        this.measureTool = null\r\n      }\r\n      \r\n      // 清理数据加载器\r\n      if (this.riskDataLoader) {\r\n        this.riskDataLoader.clear()\r\n        this.riskDataLoader = null\r\n      }\r\n      \r\n      // 清理图层\r\n      if (this.buildingsLayer && this.viewer) {\r\n        try {\r\n          this.viewer.scene.primitives.remove(this.buildingsLayer)\r\n        } catch (e) {\r\n          console.warn('清理建筑图层失败:', e)\r\n        }\r\n        this.buildingsLayer = null\r\n      }\r\n      \r\n      // 销毁Viewer\r\n      if (this.viewer) {\r\n        try {\r\n          this.viewer.destroy()\r\n        } catch (e) {\r\n          console.warn('销毁Viewer失败:', e)\r\n        }\r\n        this.viewer = null\r\n      }\r\n      \r\n      // 清空数组引用\r\n      this.selectedEntities = []\r\n    },\r\n\r\n    initCesium() {\r\n      // 设置Cesium Ion访问令牌（需要替换为您的令牌）\r\n      // 注意：这里使用占位符，实际使用时需要申请Cesium Ion账号获取token\r\n      // 或者使用其他地图服务提供商\r\n      try {\r\n        const CESIUM_ION_TOKEN = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiOTA0NzFmOC1kYmNmLTQzMDctYjQxYS1iOTIwOWZhMTBmODkiLCJpZCI6Mzc1MTkwLCJpYXQiOjE3NjgyOTU3OTZ9.LSMLo60NHgkaMtgmxWSTGt_XYLpAp01StwJwMaiL8p4\";\r\n    \r\n        Cesium.Ion.defaultAccessToken = CESIUM_ION_TOKEN\r\n      } catch (e) {\r\n        console.warn('Cesium Ion token未设置，部分功能可能受限')\r\n      }\r\n      this.viewer = new Cesium.Viewer(\"cesiumContainer\", {\r\n                imageryProvider: new Cesium.UrlTemplateImageryProvider({\r\n          url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\r\n          // url: 'https://tile.openstreetmap.org/'\r\n          credit: 'Esri'\r\n        }),\r\n        timeline: false, // 隐藏时间轴\r\n        animation: false, // 隐藏动画控件\r\n        baseLayerPicker: true, // 显示底图切换按钮\r\n        geocoder: false, // 隐藏地理编码\r\n        homeButton: true, // 显示主页按钮\r\n        sceneModePicker: false, // 隐藏场景模式切换\r\n        navigationHelpButton: false, // 隐藏帮助按钮\r\n        terrainProvider: new Cesium.EllipsoidTerrainProvider() // 初始化基础椭球地形\r\n    });\r\n      // 创建Viewer - 优化性能设置\r\n      // this.viewer = new Cesium.Viewer('cesiumContainer', {\r\n      //   terrainProvider: Cesium.createWorldTerrain(),\r\n\r\n      //   baseLayerPicker: false,\r\n      //   geocoder: false,\r\n      //   homeButton: false,\r\n      //   infoBox: false,\r\n      //   sceneModePicker: false,\r\n      //   selectionIndicator: false,\r\n      //   timeline: false,\r\n      //   animation: false,\r\n      //   fullscreenButton: true,\r\n      //   vrButton: false,\r\n      //   // 性能优化设置\r\n      //   requestRenderMode: true, // 按需渲染，减少不必要的渲染\r\n      //   maximumRenderTimeChange: Infinity // 避免频繁渲染\r\n      // })\r\n      // 4. 加载国内兼容影像底图（替换原版OSM，解决国内访问问题）\r\n      \r\n      // 设置性能优化\r\n      this.viewer.scene.globe.enableLighting = false // 禁用光照以提高性能\r\n      this.viewer.scene.requestRenderMode = true // 按需渲染\r\n      this.viewer.scene.maximumRenderTimeChange = Infinity // 避免频繁渲染\r\n      \r\n      // 限制同时渲染的实体数量（大数据量时）\r\n      this.viewer.scene.primitives.maximumScreenSpaceError = 2\r\n      \r\n      // 优化数据源渲染性能\r\n      this.viewer.scene.globe.depthTestAgainstTerrain = false // 禁用深度测试以提高性能\r\n      \r\n      // 限制同时显示的实体数量\r\n      this.viewer.scene.globe.tileCacheSize = 100 // 减少瓦片缓存大小\r\n\r\n      // 初始化工具类\r\n      this.measureTool = new CesiumMeasure(this.viewer)\r\n      this.riskDataLoader = new RiskDataLoader(this.viewer)\r\n\r\n      // 设置初始视角到遵义市\r\n      this.viewer.camera.setView({\r\n        destination: Cesium.Cartesian3.fromDegrees(\r\n          this.zunyiBounds.center[0],\r\n          this.zunyiBounds.center[1],\r\n          50000\r\n        )\r\n      })\r\n\r\n      \r\n\r\n      // 加载DEM地形（如果有本地DEM数据）\r\n      this.loadTerrain()\r\n\r\n      // 等待地形准备就绪后再加载风险区数据，确保贴地效果\r\n      // 使用地形准备完成的回调\r\n     \r\n\r\n      // 设置点击事件\r\n      this.setupClickHandler()\r\n\r\n      // // 加载建筑数据\r\n      // this.loadBuildings()\r\n\r\n      // // // 设置剖面分析回调\r\n      // this.measureTool.onProfileGenerated = (profileData) => {\r\n      //   this.showProfileChart(profileData)\r\n      // }\r\n\r\n      \r\n    },\r\n\r\n    loadTerrain() {\r\n      // 检查是否启用地形图层\r\n      if (!this.layers.terrain) {\r\n        return\r\n      }\r\n\r\n      try {\r\n        // 在 Cesium 1.95 中，使用 IonResource 创建地形提供者\r\n        const ionResource = Cesium.IonResource.fromAssetId(ZUNYI_DEM_ASSET_ID)\r\n        \r\n        // 创建地形提供者\r\n        const terrainProvider = new Cesium.CesiumTerrainProvider({\r\n          url: ionResource,\r\n          requestVertexNormals: true, // 启用地形法线，支持光影渲染\r\n          requestWaterMask: false // 无需水面蒙版，关闭优化性能\r\n        })\r\n\r\n        // 等待地形提供者准备就绪\r\n        terrainProvider.readyPromise.then(() => {\r\n          // 地形加载成功，替换Viewer的地形提供者\r\n          this.viewer.terrainProvider = terrainProvider\r\n          console.log(\"遵义DEM地形加载中，Asset ID：\", ZUNYI_DEM_ASSET_ID)\r\n          console.log(\"遵义DEM地形加载成功！\")\r\n\r\n          // 隐藏Cesium版权信息（可选，健壮性优化：增加元素判空）\r\n          const creditsElement = document.querySelector(\".cesium-widget-credits\")\r\n          if (creditsElement) {\r\n            creditsElement.style.display = \"none\"\r\n          }\r\n          this.viewer.camera.flyTo({\r\n            destination: Cesium.Cartesian3.fromDegrees(106.9264, 27.7259, 10000), // 遵义经纬度+高度\r\n            orientation: {\r\n                heading: Cesium.Math.toRadians(0), // 正北方向（0°）\r\n                pitch: Cesium.Math.toRadians(-60), // 俯视60°，便于观察地形\r\n                roll: 0 // 无侧翻，保持水平\r\n            },\r\n            duration: 3 // 相机飞行时长，3秒完成定位\r\n        });\r\n        setTimeout(()=>{\r\n          this.loadRiskZones()\r\n        },3000)\r\n          \r\n        }).catch(error => {\r\n          // 地形加载失败，捕获异常并提示\r\n          console.error(\"DEM地形加载失败详情：\", error)\r\n          // 如果加载失败，使用默认地形\r\n          console.warn(\"使用默认地形作为备用方案\")\r\n          this.viewer.terrainProvider = Cesium.createWorldTerrain()\r\n\r\n         \r\n        })\r\n      } catch (error) {\r\n        // 如果创建地形提供者失败，使用默认地形\r\n        console.error(\"创建DEM地形提供者失败：\", error)\r\n        console.warn(\"使用默认地形作为备用方案\")\r\n        this.viewer.terrainProvider = Cesium.createWorldTerrain()\r\n      }\r\n    },\r\n\r\n    async loadRiskZones() {\r\n      try {\r\n        // 显示加载提示\r\n        this.isLoading = true\r\n        this.loadProgress = 0\r\n        this.loadMessage = '正在读取数据文件...'\r\n        this.totalEntities = 0\r\n        this.loadedEntities = 0\r\n        \r\n        console.log('开始加载风险区数据: /data/doc.geojson')\r\n        \r\n        // 使用RiskDataLoader加载数据，传入进度回调\r\n        const entities = await this.riskDataLoader.loadFromGeoJSON('/data/doc.geojson', (loadedEntities) => {\r\n          // 检查组件是否还存在\r\n          if (!this.viewer || !this.$el) {\r\n            console.warn('组件已销毁，取消数据加载回调')\r\n            return\r\n          }\r\n          \r\n          console.log('风险区数据加载成功，共', loadedEntities.length, '个区域')\r\n          \r\n          // 延迟更新样式，避免阻塞UI\r\n          this.$nextTick(() => {\r\n            this.updateRiskOpacity()\r\n            this.updateRiskLevels()\r\n          })\r\n          \r\n          // 自动缩放到数据范围\r\n          if (loadedEntities.length > 0 && this.viewer) {\r\n            // 清理之前的定时器\r\n            if (this.zoomTimeout) {\r\n              clearTimeout(this.zoomTimeout)\r\n            }\r\n            \r\n            this.zoomTimeout = setTimeout(() => {\r\n              // 再次检查组件是否存在\r\n              if (!this.viewer || !this.$el) {\r\n                return\r\n              }\r\n              \r\n              try {\r\n                this.viewer.zoomTo(this.riskDataLoader.dataSource)\r\n                console.log('已自动缩放到数据范围')\r\n              } catch (e) {\r\n                console.warn('自动缩放失败:', e)\r\n              }\r\n            }, 1000)\r\n          }\r\n        }, (progress) => {\r\n          console.log(progress,this.isLoading)\r\n          // 进度回调：更新加载进度\r\n          // 使用 $nextTick 确保 Vue 响应式更新能及时反映到 DOM\r\n          if (this.$el && this.isLoading) {\r\n            this.loadProgress = progress.progress || 0\r\n              this.loadMessage = progress.message || '正在加载...'\r\n              this.totalEntities = progress.total || 0\r\n              this.loadedEntities = progress.loaded || 0\r\n              this.$forceUpdate()\r\n              // 如果加载完成，延迟隐藏加载提示\r\n              if (progress.loaded === progress.total && progress.total > 0) {\r\n                setTimeout(() => {\r\n                  if (this.$el) {\r\n                    this.isLoading = false\r\n                    this.loadProgress = 100\r\n                    this.loadMessage = '加载完成！'\r\n                  }\r\n                }, 300) // 延迟300ms，让用户看到完成状态\r\n              }\r\n          }\r\n        })\r\n        \r\n        // 延迟隐藏加载提示，让用户看到完成状态\r\n        // setTimeout(() => {\r\n        //   if (this.$el) {\r\n        //     this.isLoading = false\r\n        //     this.loadProgress = 100\r\n        //     this.loadMessage = '加载完成！'\r\n        //   }\r\n        // }, 500)\r\n        \r\n        console.log('风险区实体列表:', entities)\r\n      } catch (error) {\r\n        // 加载失败，隐藏加载提示并显示错误\r\n        this.isLoading = false\r\n        this.loadMessage = '加载失败！'\r\n        console.error('加载风险区数据失败:', error)\r\n        \r\n        // 使用更友好的错误提示，避免阻塞\r\n        if (this.$el) {\r\n          setTimeout(() => {\r\n            alert('加载风险区数据失败，请检查控制台错误信息')\r\n          }, 500)\r\n        }\r\n      }\r\n    },\r\n\r\n    getRiskColor(riskLevel) {\r\n      return this.riskDataLoader.getRiskColor(riskLevel, this.riskOpacity)\r\n    },\r\n\r\n    toggleLayer(layerName) {\r\n      console.log('切换图层:', layerName, '状态:', this.layers[layerName])\r\n      \r\n      switch(layerName) {\r\n        case 'terrain':\r\n          if (this.layers.terrain) {\r\n            this.viewer.terrainProvider = Cesium.createWorldTerrain()\r\n          } else {\r\n            this.viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider()\r\n          }\r\n          break\r\n          \r\n        case 'satellite':\r\n          // 卫星底图是基础图层，通常不需要切换\r\n          // 如果需要切换，可以在这里实现\r\n          if (!this.layers.satellite) {\r\n            // 可以切换到其他底图\r\n            console.log('卫星底图已关闭')\r\n          }\r\n          break\r\n          \r\n        case 'risk':\r\n          // 控制风险区显示/隐藏\r\n          if (this.riskDataLoader) {\r\n            this.riskDataLoader.setVisible(this.layers.risk)\r\n            console.log('风险区图层', this.layers.risk ? '显示' : '隐藏')\r\n          }\r\n          break\r\n          \r\n        case 'buildings':\r\n          if (this.layers.buildings && !this.buildingsLayer) {\r\n            this.loadBuildings()\r\n          } else if (!this.layers.buildings && this.buildingsLayer) {\r\n            this.viewer.scene.primitives.remove(this.buildingsLayer)\r\n            this.buildingsLayer = null\r\n          }\r\n          break\r\n          \r\n        case 'slope':\r\n          // 加载坡度图层\r\n          this.loadSlopeLayer()\r\n          break\r\n          \r\n        case 'ndvi':\r\n          // 加载NDVI图层\r\n          this.loadNDVILayer()\r\n          break\r\n          \r\n        case 'precipitation':\r\n          // 加载降水量图层\r\n          this.loadPrecipitationLayer()\r\n          break\r\n      }\r\n    },\r\n\r\n    loadBuildings() {\r\n      if (this.buildingsLayer) return\r\n      \r\n      // 加载OSM Buildings（需要Cesium Ion访问令牌）\r\n      try {\r\n        this.buildingsLayer = this.viewer.scene.primitives.add(\r\n          Cesium.createOsmBuildings()\r\n        )\r\n      } catch (error) {\r\n        console.warn('无法加载OSM Buildings:', error)\r\n      }\r\n    },\r\n\r\n    loadSlopeLayer() {\r\n      // 加载坡度栅格图层\r\n      // 实际项目中需要从GEE导出的坡度数据加载\r\n      if (this.slopeLayer) {\r\n        this.viewer.imageryLayers.remove(this.slopeLayer)\r\n        this.slopeLayer = null\r\n      }\r\n      \r\n      if (this.layers.slope) {\r\n        // 示例：使用WMS服务或本地瓦片服务\r\n        // this.slopeLayer = this.viewer.imageryLayers.addImageryProvider(...)\r\n        console.log('加载坡度图层')\r\n      }\r\n    },\r\n\r\n    loadNDVILayer() {\r\n      // 加载NDVI图层\r\n      if (this.ndviLayer) {\r\n        this.viewer.imageryLayers.remove(this.ndviLayer)\r\n        this.ndviLayer = null\r\n      }\r\n      \r\n      if (this.layers.ndvi) {\r\n        console.log('加载NDVI图层')\r\n      }\r\n    },\r\n\r\n    loadPrecipitationLayer() {\r\n      // 加载降水量图层\r\n      if (this.precipitationLayer) {\r\n        this.viewer.imageryLayers.remove(this.precipitationLayer)\r\n        this.precipitationLayer = null\r\n      }\r\n      \r\n      if (this.layers.precipitation) {\r\n        console.log('加载降水量图层')\r\n      }\r\n    },\r\n\r\n    updateRiskOpacity() {\r\n      // 确保透明度值是数字类型\r\n      const opacity = typeof this.riskOpacity === 'string' ? parseFloat(this.riskOpacity) : Number(this.riskOpacity)\r\n      \r\n      // 验证值是否有效\r\n      if (isNaN(opacity) || opacity < 0 || opacity > 1) {\r\n        console.warn('无效的透明度值:', this.riskOpacity)\r\n        return\r\n      }\r\n      \r\n      console.log('调用 updateRiskOpacity, 透明度值:', opacity, '类型:', typeof opacity)\r\n      \r\n      if (this.riskDataLoader && this.riskDataLoader.entities && this.riskDataLoader.entities.length > 0) {\r\n        // 显示更新提示\r\n        this.isUpdatingOpacity = true\r\n        this.updateOpacityProgress = 0\r\n        this.updateOpacityMessage = '正在更新风险区域透明度...'\r\n        \r\n        // 调用更新方法，传入进度回调\r\n        this.riskDataLoader.updateOpacity(opacity, (progress) => {\r\n          if (this.$el) {\r\n            this.updateOpacityProgress = progress.progress || 0\r\n            this.updateOpacityMessage = progress.message || '正在更新...'\r\n            \r\n            // 如果更新完成，延迟隐藏提示\r\n            if (progress.progress >= 100) {\r\n              setTimeout(() => {\r\n                if (this.$el) {\r\n                  this.isUpdatingOpacity = false\r\n                  this.updateOpacityProgress = 0\r\n                  this.updateOpacityMessage = ''\r\n                }\r\n              }, 300) // 延迟300ms，让用户看到完成状态\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        console.warn('风险数据加载器未初始化或没有实体')\r\n      }\r\n    },\r\n\r\n    updateRiskLevels() {\r\n      if (this.riskDataLoader) {\r\n        this.riskDataLoader.updateRiskLevels(this.riskLevels)\r\n      }\r\n    },\r\n\r\n    setupClickHandler() {\r\n      // 清理之前的事件处理器\r\n      if (this.clickHandler) {\r\n        this.clickHandler.destroy()\r\n      }\r\n      \r\n      this.clickHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas)\r\n      \r\n      this.clickHandler.setInputAction((click) => {\r\n        // 检查组件是否还存在\r\n        if (!this.viewer || !this.$el) {\r\n          return\r\n        }\r\n        \r\n        // 如果正在测量，不处理点击事件\r\n        if (this.measureMode) {\r\n          return\r\n        }\r\n\r\n        try {\r\n          const pickedObject = this.viewer.scene.pick(click.position)\r\n          \r\n          if (Cesium.defined(pickedObject) && pickedObject.id) {\r\n            const entity = pickedObject.id\r\n            \r\n            // 检查是否是风险区实体（从 riskDataLoader 获取实体列表）\r\n            const riskEntities = this.riskDataLoader?.entities || []\r\n            if (riskEntities.includes(entity)) {\r\n              const props = entity.properties || {}\r\n              this.selectedFeature = {\r\n                properties: {\r\n                  riskLevel: props.riskLevel || 'low',\r\n                  risk: props.risk || 0, // 原始 Risk 值\r\n                  slope: props.slope || 0,\r\n                  ndvi: props.ndvi || 0,\r\n                  precipitation: props.precipitation || 0,\r\n                  township: props.township || '',\r\n                  area: props.area || 0,\r\n                  count: props.count || 0\r\n                }\r\n              }\r\n\r\n              // 添加到选中列表（支持多选）\r\n              if (!this.selectedEntities.includes(entity)) {\r\n                this.selectedEntities.push(entity)\r\n              }\r\n            }\r\n          } else {\r\n            this.selectedFeature = null\r\n          }\r\n        } catch (e) {\r\n          console.warn('点击事件处理错误:', e)\r\n        }\r\n      }, Cesium.ScreenSpaceEventType.LEFT_CLICK)\r\n\r\n      // 双击清除选择\r\n      this.clickHandler.setInputAction(() => {\r\n        if (!this.viewer || !this.$el) {\r\n          return\r\n        }\r\n        this.selectedFeature = null\r\n        this.selectedEntities = []\r\n      }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)\r\n    },\r\n\r\n    flyToView(type) {\r\n      if (type === 'highRisk') {\r\n        // 高风险区聚焦：基于实际加载的数据\r\n        this.flyToHighRiskAreas()\r\n        return\r\n      }\r\n\r\n      const views = {\r\n        overview: {\r\n          destination: Cesium.Cartesian3.fromDegrees(106.9375, 27.7250, 10000),\r\n          orientation: {\r\n            heading: Cesium.Math.toRadians(0), // 正北方向（0°）\r\n                pitch: Cesium.Math.toRadians(-60), // 俯视60°，便于观察地形\r\n            roll: 0\r\n          }\r\n        },\r\n        typical: {\r\n          destination: Cesium.Cartesian3.fromDegrees(107.05, 27.65, 15000),\r\n          orientation: {\r\n            heading: Cesium.Math.toRadians(45), // 正北方向（45°）\r\n                pitch: Cesium.Math.toRadians(-60), // 俯视60°，便于观察地形\r\n            roll: 0\r\n          }\r\n        }\r\n      }\r\n\r\n      if (views[type]) {\r\n        this.viewer.camera.flyTo(views[type])\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 聚焦到高风险区域\r\n     */\r\n    flyToHighRiskAreas() {\r\n      if (!this.riskDataLoader || !this.riskDataLoader.dataSource) {\r\n        console.warn('风险区数据未加载，无法聚焦高风险区域')\r\n        // 如果没有数据，使用默认位置\r\n        this.viewer.camera.flyTo({\r\n          destination: Cesium.Cartesian3.fromDegrees(106.95, 27.75, 20000),\r\n          orientation: {\r\n            heading: Cesium.Math.toRadians(0),\r\n            pitch: Cesium.Math.toRadians(-20),\r\n            roll: 0\r\n          }\r\n        })\r\n        return\r\n      }\r\n      // 从 riskDataLoader 获取所有实体（避免响应式监听）\r\n      const riskEntities = this.riskDataLoader?.entities || []\r\n      console.log('所有风险实体:', riskEntities.length)\r\n      \r\n      // 筛选高风险区域\r\n      // 优先使用 _riskLevel（快速访问属性），如果没有则尝试其他方式\r\n      const highRiskEntities = riskEntities.filter(entity => {\r\n        if (!entity) {\r\n          return false\r\n        }\r\n        \r\n        // 方式1：使用快速访问属性（最可靠）\r\n        if (entity._riskLevel === 'high') {\r\n          return true\r\n        }\r\n        \r\n        // 方式2：从 _riskData 获取\r\n        if (entity._riskData && entity._riskData.riskLevel === 'high') {\r\n          return true\r\n        }\r\n        \r\n        // 方式3：从 properties 获取\r\n        let riskLevel = null\r\n        if (entity.properties) {\r\n          // 如果是 PropertyBag，使用 getValue\r\n          if (entity.properties.getValue && typeof entity.properties.getValue === 'function') {\r\n            try {\r\n              const props = entity.properties.getValue()\r\n              riskLevel = props?.riskLevel\r\n              // 如果没有 riskLevel，尝试从 Risk 计算\r\n              if (!riskLevel && props?.Risk !== undefined) {\r\n                riskLevel = props.Risk === 1 ? 'high' : (props.Risk === 2 ? 'medium' : 'low')\r\n              }\r\n            } catch (e) {\r\n              // 忽略错误\r\n            }\r\n          } else {\r\n            // 普通对象，直接访问\r\n            riskLevel = entity.properties.riskLevel\r\n            if (!riskLevel && entity.properties.Risk !== undefined) {\r\n              riskLevel = entity.properties.Risk === 1 ? 'high' : (entity.properties.Risk === 2 ? 'medium' : 'low')\r\n            }\r\n          }\r\n        }\r\n        \r\n        return riskLevel === 'high'\r\n      })\r\n      \r\n      console.log('筛选结果 - 高风险实体数量:', highRiskEntities.length)\r\n      if (highRiskEntities.length > 0) {\r\n        console.log('第一个高风险实体的属性:', {\r\n          _riskLevel: highRiskEntities[0]._riskLevel,\r\n          _riskData: highRiskEntities[0]._riskData,\r\n          properties: highRiskEntities[0].properties\r\n        })\r\n      }\r\n\r\n      if (highRiskEntities.length === 0) {\r\n        console.warn('未找到高风险区域，缩放到所有数据范围')\r\n        // 如果没有高风险区域，缩放到所有数据范围\r\n        try {\r\n          this.viewer.zoomTo(this.riskDataLoader.dataSource);\r\n        } catch (e) {\r\n          console.warn('缩放失败:', e)\r\n        }\r\n        return\r\n      }\r\n\r\n      console.log('找到', highRiskEntities.length, '个高风险区域，正在聚焦...')\r\n\r\n      // 计算高风险区域的边界球\r\n      const boundingSphere = this.calculateBoundingSphere(highRiskEntities)\r\n      \r\n      if (boundingSphere) {\r\n        // 使用边界球来聚焦\r\n        this.viewer.camera.flyTo({\r\n          destination: boundingSphere.center,\r\n          orientation: {\r\n            heading: Cesium.Math.toRadians(0),\r\n            pitch: Cesium.Math.toRadians(-60),\r\n            roll: 0\r\n          },\r\n          complete: () => {\r\n            // 飞行完成后，调整相机距离以包含所有高风险区域\r\n            // 计算合适的距离：半径 * 倍数，确保所有区域都在视野内\r\n            const radius = boundingSphere.radius\r\n            const height = radius * 3 // 留出足够的边距\r\n            \r\n            // 将相机移动到合适的高度\r\n            const cartographic = Cesium.Cartographic.fromCartesian(boundingSphere.center)\r\n            const destination = Cesium.Cartesian3.fromRadians(\r\n              cartographic.longitude,\r\n              cartographic.latitude,\r\n              height\r\n            )\r\n            \r\n            this.viewer.zoomTo(this.riskDataLoader.dataSource);\r\n          }\r\n        })\r\n      } else {\r\n        // 如果计算边界失败，使用备用方法：缩放到整个数据源\r\n        console.warn('计算边界失败，使用所有数据范围')\r\n        try {\r\n          this.viewer.zoomTo(this.riskDataLoader.dataSource);\r\n        } catch (e) {\r\n          console.warn('缩放失败:', e)\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 计算实体的边界球\r\n     */\r\n    calculateBoundingSphere(entities) {\r\n      if (!entities || entities.length === 0) {\r\n        return null\r\n      }\r\n\r\n      try {\r\n        const positions = []\r\n        \r\n        entities.forEach(entity => {\r\n          if (entity.polygon && entity.polygon.hierarchy) {\r\n            const hierarchy = entity.polygon.hierarchy.getValue()\r\n            if (hierarchy.positions && hierarchy.positions.length > 0) {\r\n              hierarchy.positions.forEach(pos => {\r\n                positions.push(pos)\r\n              })\r\n            }\r\n          }\r\n        })\r\n\r\n        if (positions.length === 0) {\r\n          return null\r\n        }\r\n\r\n        // 使用 Cesium 的 BoundingSphere.fromPoints 计算边界球\r\n        const boundingSphere = Cesium.BoundingSphere.fromPoints(positions)\r\n        return boundingSphere\r\n      } catch (e) {\r\n        console.warn('计算边界球失败:', e)\r\n        return null\r\n      }\r\n    },\r\n\r\n    startMeasure(type) {\r\n      // 如果已经在测量，先清除\r\n      if (this.measureMode) {\r\n        this.clearMeasure()\r\n      }\r\n\r\n      this.measureMode = type\r\n      this.measureResult = null\r\n      \r\n      // 使用测量工具\r\n      if (type === 'distance') {\r\n        this.measureTool.startDistanceMeasure()\r\n      } else if (type === 'area') {\r\n        this.measureTool.startAreaMeasure()\r\n      } else if (type === 'profile') {\r\n        this.measureTool.startProfileMeasure()\r\n      }\r\n    },\r\n\r\n    clearMeasure() {\r\n      if (this.measureTool) {\r\n        const result = this.measureTool.finishMeasure()\r\n        if (result) {\r\n          this.measureResult = result\r\n        }\r\n        this.measureTool.clear()\r\n      }\r\n      this.measureMode = null\r\n      // 延迟清除结果，让用户看到\r\n      setTimeout(() => {\r\n        if (this.$el) {\r\n          this.measureResult = null\r\n        }\r\n      }, 3000)\r\n    },\r\n\r\n    showProfileChart(profileData) {\r\n      // 显示剖面图表\r\n      // 这里可以集成图表库（如ECharts）来显示剖面\r\n      console.log('剖面数据:', profileData)\r\n      // 实际实现中可以打开一个模态框显示图表\r\n      this.measureResult = {\r\n        type: 'profile',\r\n        value: `${profileData.length}个采样点`,\r\n        data: profileData\r\n      }\r\n    },\r\n\r\n    closeInfoPanel() {\r\n      this.selectedFeature = null\r\n      this.selectedEntities = []\r\n    },\r\n\r\n    exportSelectedData() {\r\n      if (this.selectedEntities.length > 0 && this.riskDataLoader) {\r\n        this.riskDataLoader.exportToCSV(this.selectedEntities)\r\n      }\r\n    },\r\n\r\n    getRiskClass(level) {\r\n      return `risk-${level}`\r\n    },\r\n\r\n    getRiskText(level) {\r\n      const texts = {\r\n        high: '高风险',\r\n        medium: '中风险',\r\n        low: '低风险'\r\n      }\r\n      return texts[level] || '未知'\r\n    },\r\n\r\n    togglePlay() {\r\n      this.isPlaying = !this.isPlaying\r\n      // 实现时间轴播放控制\r\n    },\r\n\r\n    updateTime() {\r\n      // 更新时间轴\r\n    },\r\n\r\n    formatTime(value) {\r\n      // 格式化时间显示\r\n      return `${value}天`\r\n    },\r\n\r\n    updatePlaySpeed() {\r\n      // 更新播放速度\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cesium-container {\r\n  width: 100%;\r\n  height: 100vh;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  #cesiumContainer {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n.loading-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2000;\r\n  backdrop-filter: blur(2px);\r\n}\r\n\r\n.loading-content {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 30px 40px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n  min-width: 350px;\r\n  max-width: 500px;\r\n  text-align: center;\r\n\r\n  h3 {\r\n    margin: 20px 0 10px 0;\r\n    font-size: 18px;\r\n    color: #2c3e50;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .loading-message {\r\n    margin: 10px 0 20px 0;\r\n    font-size: 14px;\r\n    color: #666;\r\n  }\r\n\r\n  .progress-bar-container {\r\n    width: 100%;\r\n    height: 8px;\r\n    background: #e0e0e0;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    margin: 15px 0;\r\n\r\n    .progress-bar {\r\n      height: 100%;\r\n      background: linear-gradient(90deg, #42b983, #35a372);\r\n      border-radius: 4px;\r\n      transition: width 0.3s ease;\r\n      box-shadow: 0 2px 4px rgba(66, 185, 131, 0.3);\r\n    }\r\n  }\r\n\r\n  .progress-text {\r\n    margin: 10px 0 0 0;\r\n    font-size: 12px;\r\n    color: #999;\r\n  }\r\n}\r\n\r\n.loading-spinner {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin: 0 auto;\r\n  border: 4px solid #f3f3f3;\r\n  border-top: 4px solid #42b983;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.control-panel {\r\n  position: absolute;\r\n  top: 20px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  z-index: 1000;\r\n  min-width: 280px;\r\n\r\n  &.left-panel {\r\n    left: 20px;\r\n  }\r\n\r\n  &.right-panel {\r\n    right: 20px;\r\n  }\r\n}\r\n\r\n.panel-header {\r\n  margin-bottom: 20px;\r\n  border-bottom: 2px solid #42b983;\r\n  padding-bottom: 10px;\r\n\r\n  h2 {\r\n    margin: 0 0 5px 0;\r\n    font-size: 20px;\r\n    color: #2c3e50;\r\n  }\r\n\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 16px;\r\n    color: #2c3e50;\r\n  }\r\n\r\n  .subtitle {\r\n    margin: 0;\r\n    font-size: 14px;\r\n    color: #666;\r\n  }\r\n\r\n  .close-btn {\r\n    float: right;\r\n    background: none;\r\n    border: none;\r\n    font-size: 24px;\r\n    cursor: pointer;\r\n    color: #999;\r\n    padding: 0;\r\n    width: 30px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n\r\n    &:hover {\r\n      color: #333;\r\n    }\r\n  }\r\n}\r\n\r\n.panel-section {\r\n  margin-bottom: 20px;\r\n\r\n  h3 {\r\n    margin: 0 0 10px 0;\r\n    font-size: 14px;\r\n    color: #2c3e50;\r\n    font-weight: bold;\r\n  }\r\n}\r\n\r\n.button-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.btn-primary, .btn-secondary {\r\n  padding: 10px 15px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.3s;\r\n\r\n  &.btn-primary {\r\n    background: #42b983;\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: #35a372;\r\n    }\r\n  }\r\n\r\n  &.btn-secondary {\r\n    background: #f0f0f0;\r\n    color: #333;\r\n\r\n    &:hover {\r\n      background: #e0e0e0;\r\n    }\r\n\r\n    &.btn-active {\r\n      background: #42b983;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n\r\n.layer-control {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.checkbox-label {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n\r\n  input[type=\"checkbox\"] {\r\n    margin-right: 8px;\r\n    width: 18px;\r\n    height: 18px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  span {\r\n    &.risk-high {\r\n      color: #e74c3c;\r\n      font-weight: bold;\r\n    }\r\n\r\n    &.risk-medium {\r\n      color: #f39c12;\r\n      font-weight: bold;\r\n    }\r\n\r\n    &.risk-low {\r\n      color: #f1c40f;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n\r\n.slider {\r\n  width: 100%;\r\n  margin: 10px 0;\r\n}\r\n\r\n.slider-value {\r\n  display: block;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #666;\r\n  margin-top: 5px;\r\n}\r\n\r\n.info-panel {\r\n  position: absolute;\r\n  top: 20px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n  z-index: 1000;\r\n  min-width: 300px;\r\n  max-width: 400px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n\r\n  &.right-panel {\r\n    right: 20px;\r\n    left: auto;\r\n  }\r\n}\r\n\r\n.info-content {\r\n  .info-item {\r\n    margin-bottom: 15px;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #eee;\r\n\r\n    label {\r\n      display: block;\r\n      font-weight: bold;\r\n      color: #666;\r\n      font-size: 12px;\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    span {\r\n      display: block;\r\n      font-size: 14px;\r\n      color: #2c3e50;\r\n\r\n      &.risk-high {\r\n        color: #e74c3c;\r\n        font-weight: bold;\r\n      }\r\n\r\n      &.risk-medium {\r\n        color: #f39c12;\r\n        font-weight: bold;\r\n      }\r\n\r\n      &.risk-low {\r\n        color: #f1c40f;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.legend {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n  z-index: 1000;\r\n\r\n  h4 {\r\n    margin: 0 0 10px 0;\r\n    font-size: 14px;\r\n    color: #2c3e50;\r\n  }\r\n\r\n  .legend-item {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 8px;\r\n    font-size: 12px;\r\n\r\n    .legend-color {\r\n      width: 20px;\r\n      height: 20px;\r\n      border-radius: 3px;\r\n      margin-right: 8px;\r\n      border: 1px solid #ccc;\r\n\r\n      &.risk-high {\r\n        background: #e74c3c;\r\n      }\r\n\r\n      &.risk-medium {\r\n        background: #f39c12;\r\n      }\r\n\r\n      &.risk-low {\r\n        background: #f1c40f;\r\n      }\r\n\r\n      &.water {\r\n        background: #3498db;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.measure-result {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n  z-index: 1001;\r\n\r\n  .result-content {\r\n    h4 {\r\n      margin: 0 0 10px 0;\r\n      font-size: 16px;\r\n    }\r\n\r\n    p {\r\n      margin: 10px 0;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n}\r\n\r\n.btn-small {\r\n  padding: 5px 10px;\r\n  font-size: 12px;\r\n  background: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n}\r\n\r\n.time-control {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.time-display {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.speed-control {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 12px;\r\n\r\n  select {\r\n    padding: 5px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ddd;\r\n  }\r\n}\r\n\r\n.info-actions {\r\n  margin-top: 15px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.btn-export {\r\n  width: 100%;\r\n  padding: 8px 15px;\r\n  background: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  transition: background 0.3s;\r\n\r\n  &:hover {\r\n    background: #35a372;\r\n  }\r\n}\r\n\r\n.selected-count {\r\n  padding: 8px;\r\n  background: #e8f5e9;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n  font-size: 12px;\r\n  color: #2c3e50;\r\n  text-align: center;\r\n}\r\n\r\n.risk-code {\r\n  font-size: 11px;\r\n  color: #999;\r\n  font-weight: normal;\r\n  margin-left: 5px;\r\n}\r\n\r\n// 移动端适配\r\n@media (max-width: 768px) {\r\n  .control-panel {\r\n    min-width: 240px;\r\n    padding: 15px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .info-panel {\r\n    min-width: 250px;\r\n    max-width: 90%;\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CesiumViewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CesiumViewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CesiumViewer.vue?vue&type=template&id=6b37f102&scoped=true\"\nimport script from \"./CesiumViewer.vue?vue&type=script&lang=js\"\nexport * from \"./CesiumViewer.vue?vue&type=script&lang=js\"\nimport style0 from \"./CesiumViewer.vue?vue&type=style&index=0&id=6b37f102&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b37f102\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <CesiumViewer />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport CesiumViewer from '@/components/CesiumViewer.vue'\n\nexport default {\n  name: 'HomeView',\n  components: {\n    CesiumViewer\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  width: 100%;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HomeView.vue?vue&type=template&id=70ae1ff4&scoped=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\nimport style0 from \"./HomeView.vue?vue&type=style&index=0&id=70ae1ff4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70ae1ff4\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n  },\n  getters: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"c43cddb6\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"test2:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktest2\"] = self[\"webpackChunktest2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [929,121], function() { return __webpack_require__(9660); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","script","component","staticClass","ref","_m","_v","on","$event","flyToView","directives","name","rawName","value","layers","terrain","expression","domProps","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","$$i","$set","concat","slice","toggleLayer","satellite","slope","ndvi","precipitation","risk","buildings","riskOpacity","modifiers","updateRiskOpacity","_n","$forceUpdate","_s","Number","toFixed","_e","riskLevels","high","updateRiskLevels","medium","low","class","measureMode","startMeasure","clearMeasure","timeEnabled","togglePlay","isPlaying","timeValue","updateTime","formatTime","playSpeed","$$selectedVal","prototype","filter","call","options","o","selected","map","val","_value","multiple","updatePlaySpeed","isLoading","loadMessage","style","width","loadProgress","loadedEntities","totalEntities","Math","round","isUpdatingOpacity","updateOpacityMessage","updateOpacityProgress","selectedFeature","closeInfoPanel","selectedEntities","length","getRiskClass","properties","riskLevel","getRiskText","count","township","area","exportSelectedData","measureResult","type","Viewer","Cartesian3","Color","GeoJsonDataSource","ScreenSpaceEventHandler","ScreenSpaceEventType","CesiumMath","HeadingPitchRange","BoundingSphere","EllipsoidTerrainProvider","UrlTemplateImageryProvider","createWorldTerrain","createOsmBuildings","Cesium","CesiumMeasure","constructor","viewer","activeEntity","measureEntities","handler","positions","startDistanceMeasure","clear","setupHandler","setInputAction","click","position","camera","pickEllipsoid","scene","globe","ellipsoid","push","updateDistanceMeasure","LEFT_CLICK","movement","endPosition","updateDistancePreview","MOUSE_MOVE","finishMeasure","RIGHT_CLICK","startAreaMeasure","updateAreaMeasure","updateAreaPreview","startProfileMeasure","createProfileLine","generateProfile","destroy","canvas","entities","remove","add","polyline","material","YELLOW","clampToGround","totalDistance","i","distance","lastPosition","label","Cartographic","fromCartesian","text","font","fillColor","WHITE","outlineColor","BLACK","outlineWidth","LabelStyle","FILL_AND_OUTLINE","verticalOrigin","VerticalOrigin","BOTTOM","pixelOffset","Cartesian2","previewEntity","getById","id","withAlpha","closedPositions","polygon","hierarchy","BLUE","outline","calculateArea","center","calculateCenter","previewPositions","CYAN","start","end","samples","profileData","ratio","lerp","cartographic","height","getHeight","onProfileGenerated","p1","p2","longitude","latitude","earthRadius","abs","sumX","sumY","sumZ","x","y","z","areaPreview","result","unit","forEach","entity","areaLabel","RiskDataLoader","dataSource","loadFromGeoJSON","geojson","onLoad","onProgress","data","console","log","progress","message","total","loaded","response","fetch","ok","Error","status","json","features","load","dataSources","values","batchSize","progressUpdateInterval","originalRequestRenderMode","requestRenderMode","originalMaximumRenderTimeChange","maximumRenderTimeChange","Infinity","processBatch","startIndex","warn","endIndex","min","lastProgressUpdate","styleRiskEntity","floor","requestRender","error","stack","feature","props","undefined","Risk","riskValue","toLowerCase","calculateRiskLevel","getRiskColor","extrudedHeight","classificationType","ClassificationType","TERRAIN","show","setValue","currentProps","getValue","乡镇","geometry","_riskLevel","_riskData","opacity","numOpacity","parseFloat","isNaN","clampedOpacity","max","normalizedLevel","String","trim","colors","RED","ORANGE","color","addWarningLabel","getEntityCenter","billboard","image","createWarningIcon","scale","warningLabel","level","document","createElement","ctx","getContext","fillStyle","beginPath","arc","PI","fill","textAlign","textBaseline","fillText","toDataURL","pos","updateOpacity","updateInterval","index","e","newColor","levels","shouldShow","setVisible","visible","exportToCSV","headers","rows","csvContent","join","row","blob","Blob","url","URL","createObjectURL","link","href","download","Date","getTime","revokeObjectURL","ZUNYI_DEM_ASSET_ID","measureTool","riskDataLoader","slopeLayer","ndviLayer","precipitationLayer","buildingsLayer","clickHandler","zoomTimeout","zunyiBounds","zoom","mounted","initCesium","beforeDestroy","cleanup","methods","clearTimeout","primitives","CESIUM_ION_TOKEN","Ion","defaultAccessToken","imageryProvider","credit","timeline","animation","baseLayerPicker","geocoder","homeButton","sceneModePicker","navigationHelpButton","terrainProvider","enableLighting","maximumScreenSpaceError","depthTestAgainstTerrain","tileCacheSize","setView","destination","fromDegrees","loadTerrain","setupClickHandler","ionResource","IonResource","fromAssetId","CesiumTerrainProvider","requestVertexNormals","requestWaterMask","readyPromise","then","creditsElement","querySelector","display","flyTo","orientation","heading","toRadians","pitch","roll","duration","setTimeout","loadRiskZones","catch","$el","$nextTick","zoomTo","alert","layerName","loadBuildings","loadSlopeLayer","loadNDVILayer","loadPrecipitationLayer","imageryLayers","pickedObject","pick","defined","riskEntities","includes","LEFT_DOUBLE_CLICK","flyToHighRiskAreas","views","overview","typical","highRiskEntities","boundingSphere","calculateBoundingSphere","complete","radius","fromRadians","fromPoints","showProfileChart","texts","components","CesiumViewer","Vue","use","VueRouter","routes","path","HomeView","router","mode","base","process","Vuex","state","getters","mutations","actions","modules","config","productionTip","store","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","window","obj","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","timeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}